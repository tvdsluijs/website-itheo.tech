<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Crafting a Custom WordPress Login Page With Shortcodes - iTheo.Tech</title><meta name="description" content="Hello, fellow WordPress enthusiasts! Today, I'm going to share with you a little adventure I embarked on in the realm of WordPress customization. Why did I decide to do this? Well, because the default WordPress login page (wp-login.php) lacks a certain flair and isn't always&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://itheo.tech/crafting-a-custom-wordpress-login-page-with-shortcodes.html"><link rel="alternate" type="application/atom+xml" href="https://itheo.tech/feed.xml"><link rel="alternate" type="application/json" href="https://itheo.tech/feed.json"><meta property="og:title" content="Crafting a Custom WordPress Login Page With Shortcodes"><meta property="og:image" content="https://itheo.tech/media/posts/104/d9a2b206-a72e-4928-b684-1b6c91eec313.png"><meta property="og:image:width" content="1792"><meta property="og:image:height" content="1024"><meta property="og:site_name" content="iTheo.Tech"><meta property="og:description" content="Hello, fellow WordPress enthusiasts! Today, I'm going to share with you a little adventure I embarked on in the realm of WordPress customization. Why did I decide to do this? Well, because the default WordPress login page (wp-login.php) lacks a certain flair and isn't always&hellip;"><meta property="og:url" content="https://itheo.tech/crafting-a-custom-wordpress-login-page-with-shortcodes.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://itheo.tech/assets/css/style.css?v=6fbb1e8931a5afe843374fd67c192c86"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://itheo.tech/crafting-a-custom-wordpress-login-page-with-shortcodes.html"},"headline":"Crafting a Custom WordPress Login Page With Shortcodes","datePublished":"2023-10-30T05:23","dateModified":"2024-06-01T19:42","image":{"@type":"ImageObject","url":"https://itheo.tech/media/posts/104/d9a2b206-a72e-4928-b684-1b6c91eec313.png","height":1024,"width":1792},"description":"Hello, fellow WordPress enthusiasts! Today, I'm going to share with you a little adventure I embarked on in the realm of WordPress customization. Why did I decide to do this? Well, because the default WordPress login page (wp-login.php) lacks a certain flair and isn't always&hellip;","author":{"@type":"Person","name":"Theo van der Sluijs","url":"https://itheo.tech/authors/theo-van-der-sluijs/"},"publisher":{"@type":"Organization","name":"Theo van der Sluijs","logo":{"@type":"ImageObject","url":"https://itheo.tech/media/website/itheo.tech-500x125-logo.png","height":125,"width":500}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://itheo.tech/"><img src="https://itheo.tech/media/website/itheo.tech-500x125-logo.png" alt="iTheo.Tech" width="500" height="125"></a><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://itheo.tech/media/posts/104/d9a2b206-a72e-4928-b684-1b6c91eec313.png" srcset="https://itheo.tech/media/posts/104/responsive/d9a2b206-a72e-4928-b684-1b6c91eec313-xs.webp 300w, https://itheo.tech/media/posts/104/responsive/d9a2b206-a72e-4928-b684-1b6c91eec313-sm.webp 480w, https://itheo.tech/media/posts/104/responsive/d9a2b206-a72e-4928-b684-1b6c91eec313-md.webp 768w, https://itheo.tech/media/posts/104/responsive/d9a2b206-a72e-4928-b684-1b6c91eec313-lg.webp 1024w, https://itheo.tech/media/posts/104/responsive/d9a2b206-a72e-4928-b684-1b6c91eec313-xl.webp 1360w, https://itheo.tech/media/posts/104/responsive/d9a2b206-a72e-4928-b684-1b6c91eec313-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1024" width="1792" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2023-10-30T05:23">October 30, 2023</time></div><h1>Crafting a Custom WordPress Login Page With Shortcodes</h1><div class="post__meta post__meta--author"><img src="https://itheo.tech/media/website/64.png" loading="eager" height="512" width="512" class="post__author-thumb" alt="Theo van der Sluijs"> <a href="https://itheo.tech/authors/theo-van-der-sluijs/" class="feed__author">Theo van der Sluijs</a></div></div></header></div><div class="wrapper post__entry"><p>Hello, fellow WordPress enthusiasts! Today, I'm going to share with you a little adventure I embarked on in the realm of WordPress customization. Why did I decide to do this? Well, because the default WordPress login page (<code>wp-login.php</code>) lacks a certain flair and isn't always the best option for every site. And as someone who loves to tinker and optimize, I just couldn't resist the urge to create a more streamlined login process.</p><p>So, I decided to design a custom login page that you can embed directly within your WordPress posts or pages. What makes it better? You won't have to redirect your users to <code>wp-login.php</code> anymore! This means a smoother, more integrated user experience. The best part is, you can do this with a simple PHP script and the Snippets plugin.</p><p>Let's dive in!</p><h2 id="heading-why-ditch-the-default-login-page">Why Ditch the Default Login Page?</h2><p>Don't get me wrong, <code>wp-login.php</code> does the job. However, it's often an abrupt change from the main site's branding, layout, and overall user experience. Users are yanked out of the environment they were in, which can be jarring. That's why I thought it'd be great to let users log in without ever leaving the page they're on.</p><h2 id="heading-using-the-snippets-plugin">Using the Snippets Plugin</h2><p>First thing's first—install the <a target="_blank" href="https://wordpress.org/plugins/code-snippets/" rel="noopener">Snippets plugin</a>. This gem lets you run PHP code snippets directly in your WordPress dashboard without having to modify your theme files.</p><h2 id="heading-breaking-down-the-code">Breaking Down the Code</h2><p>Let's look at each section of our custom login script.</p><h3 id="heading-function-declaration">Function Declaration</h3><pre><code class="lang-php"><span class="hljs-comment">// Declare a function that'll be turned into a shortcode</span><restore-line-break><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_login_form_shortcode</span>(<span class="hljs-params"></span>) </span>{<restore-line-break></restore-line-break></restore-line-break></code></pre><p>Here we declare a function called <code>custom_login_form_shortcode</code>. This function will be turned into a shortcode later.</p><h3 id="heading-logged-in-check">Logged-in Check</h3><pre><code class="lang-php"><span class="hljs-comment">// Check if the user is already logged in</span><restore-line-break><span class="hljs-keyword">if</span> ( is_user_logged_in() ) {<restore-line-break>    <span class="hljs-keyword">return</span> <span class="hljs-string">'You are already logged in!'</span>;<restore-line-break>}<restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre><p>The <code>is_user_logged_in()</code> function checks if the user is already logged in. If so, it simply returns a message stating that the user is already logged in.</p><h3 id="heading-html-form">HTML Form</h3><pre><code class="lang-php"><span class="hljs-comment">// The HTML form for login</span><restore-line-break>$output = <span class="hljs-string">'<restore-line-break><form action="" method="post">...</form>'</restore-line-break></span>;<restore-line-break></restore-line-break></restore-line-break></code></pre><p>This part of the code generates the HTML login form. We use the <code>post</code> method to send form data.</p><h3 id="heading-login-logic">Login Logic</h3><pre><code class="lang-php"><span class="hljs-comment">// Logic for authenticating the user</span><restore-line-break><span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_POST[<span class="hljs-string">'custom_login'</span>])) {...}<restore-line-break></restore-line-break></restore-line-break></code></pre><p>The <code>if</code> statement checks whether the form was submitted. If it was, the script attempts to log the user in.</p><h3 id="heading-sign-on">Sign-On</h3><pre><code class="lang-php"><span class="hljs-comment">// WordPress function to sign-on the user</span><restore-line-break>$user = wp_signon( $creds, <span class="hljs-literal">false</span> );<restore-line-break></restore-line-break></restore-line-break></code></pre><p><code>wp_signon</code> is a WordPress function that tries to log the user in with the credentials (<code>$creds</code>) provided. If successful, it redirects to the current page.</p><h3 id="heading-error-handling">Error Handling</h3><pre><code class="lang-php"><span class="hljs-comment">// Check for errors and display messages</span><restore-line-break><span class="hljs-keyword">if</span> ( is_wp_error($user) ) {...}<restore-line-break></restore-line-break></restore-line-break></code></pre><p>This section checks for login errors and displays error messages if necessary.</p><h3 id="heading-shortcode-registration">Shortcode Registration</h3><pre><code class="lang-php"><span class="hljs-comment">// Register the shortcode</span><restore-line-break>add_shortcode(<span class="hljs-string">'custom_login_form'</span>, <span class="hljs-string">'custom_login_form_shortcode'</span>);<restore-line-break></restore-line-break></restore-line-break></code></pre><p>Finally, <code>add_shortcode</code> registers our function as a shortcode, making it available to be used anywhere in WordPress.</p><hr><p>Here's the complete code:</p><pre><code class="lang-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_login_form_shortcode</span>(<span class="hljs-params"></span>) </span>{<restore-line-break>    <span class="hljs-keyword">if</span> ( is_user_logged_in() ) {<restore-line-break>        <span class="hljs-keyword">return</span> <span class="hljs-string">'You are already logged in!'</span>;<restore-line-break>    }<restore-line-break><restore-line-break>    $output = <span class="hljs-string">'<restore-line-break>    <form action="" method="post"><restore-line-break>        
<div><restore-line-break>            <label for="username">Username:</label><restore-line-break>            <input type="text" name="username" id="username" required><restore-line-break>        </restore-line-break></restore-line-break></restore-line-break></div>
<p><restore-line-break>        
<div><restore-line-break>            <label for="password">Password:</label><restore-line-break>            <input type="password" name="password" id="password" required><restore-line-break>        </restore-line-break></restore-line-break></restore-line-break></div>
<p><restore-line-break>        <input type="submit" name="custom_login" value="Login"><restore-line-break>    </restore-line-break></restore-line-break></p></restore-line-break></p></restore-line-break></form>'</restore-line-break></span>;<restore-line-break><restore-line-break>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_POST[<span class="hljs-string">'custom_login'</span>])) {<restore-line-break>        $creds = <span class="hljs-keyword">array</span>(<restore-line-break>            <span class="hljs-string">'user_login'</span>    => sanitize_text_field($_POST[<span class="hljs-string">'username'</span>]),<restore-line-break>            <span class="hljs-string">'user_password'</span> => $_POST[<span class="hljs-string">'password'</span>],<restore-line-break>            <span class="hljs-string">'remember'</span>      => <span class="hljs-literal">true</span><restore-line-break>        );<restore-line-break><restore-line-break>        $user = wp_signon( $creds, <span class="hljs-literal">false</span> );<restore-line-break><restore-line-break>        <span class="hljs-keyword">if</span> ( is_wp_error($user) ) {<restore-line-break>            $output .= <span class="hljs-string">'
<div class="error">'</div></span> . $user->get_error_message() . <span class="hljs-string">'</span></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre></div><p>';<restore-line-break>} <span class="hljs-keyword">else</span> {<restore-line-break>wp_redirect($_SERVER[<span class="hljs-string">'REQUEST_URI'</span>]);<restore-line-break><span class="hljs-keyword">exit</span>();<restore-line-break>}<restore-line-break>}<restore-line-break><restore-line-break><span class="hljs-keyword">return</span> $output;<restore-line-break>}<restore-line-break>add_shortcode(<span class="hljs-string">'custom_login_form'</span>, <span class="hljs-string">'custom_login_form_shortcode'</span>);<restore-line-break><p>And there you have it! You can now add the <code>[custom_login_form]</code> shortcode to any page, and your custom login form will appear. Use the Snippets plugin to add this function and let your website’s login shine!</p><p>Cheers and happy coding!</p></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></p></article></main></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on June 1, 2024</p><div class="post__share"></div><div class="post__bio bio"><img src="https://itheo.tech/media/website/64.png" loading="lazy" height="512" width="512" class="bio__avatar" alt="Theo van der Sluijs"><div><h3 class="bio__name"><a href="https://itheo.tech/authors/theo-van-der-sluijs/" rel="author">Theo van der Sluijs</a></h3></div></div></footer><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://itheo.tech/taking-home-assistant-notifications-to-the-next-level-with-ntfysh.html" class="post__nav-link" rel="prev"><span>Previous</span> Taking Home Assistant Notifications to the Next Level with ntfy.sh</a></div><div class="post__nav-next"><a href="https://itheo.tech/unlocking-pages-with-custom-user-roles-in-wordpress.html" class="post__nav-link" rel="next"><span>Next</span> Unlocking Pages with Custom User Roles in WordPress </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2015-02-05T19:42" class="feed__date">February 5, 2015</time></div><h3 class="h1"><a href="https://itheo.tech/url-shortener-with-php-and-mongodb-script.html">Url shortener with PHP and MongoDB script</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2015-08-11T11:52" class="feed__date">August 11, 2015</time></div><h3 class="h1"><a href="https://itheo.tech/better-mongodb-backup-script-with-tar-and-move-to-s3-bucket.html">Better MongoDB backup script with Tar and move to S3 Bucket</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2018-03-18T12:35" class="feed__date">March 18, 2018</time></div><h3 class="h1"><a href="https://itheo.tech/using-ubuntu-on-windows-10-without-admin-rights.html">Using Ubuntu on Windows 10 without Admin Rights</a></h3></article></div></div><footer class="footer"><div class="footer__copyright"><p>iTheo.Tech</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#toparrow"/></svg></button></footer><script defer="defer" src="https://itheo.tech/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>