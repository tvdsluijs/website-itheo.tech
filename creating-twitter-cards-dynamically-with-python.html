<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Creating Twitter Cards dynamically with Python - iTheo.Tech</title><meta name="description" content="So, I'm on Hashnode and I want to expose my articles even more. There is a field within the articles settings on Hashnode where you can put a twitter card image. I really never used twitter cards, I just hoped the Cover photo would be&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://itheo.tech/creating-twitter-cards-dynamically-with-python.html"><link rel="alternate" type="application/atom+xml" href="https://itheo.tech/feed.xml"><link rel="alternate" type="application/json" href="https://itheo.tech/feed.json"><meta property="og:title" content="Creating Twitter Cards dynamically with Python"><meta property="og:image" content="https://itheo.tech/media/posts/79/TMgak-bFp.jpeg"><meta property="og:image:width" content="1600"><meta property="og:image:height" content="1200"><meta property="og:site_name" content="iTheo.Tech"><meta property="og:description" content="So, I'm on Hashnode and I want to expose my articles even more. There is a field within the articles settings on Hashnode where you can put a twitter card image. I really never used twitter cards, I just hoped the Cover photo would be&hellip;"><meta property="og:url" content="https://itheo.tech/creating-twitter-cards-dynamically-with-python.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://itheo.tech/assets/css/style.css?v=6fbb1e8931a5afe843374fd67c192c86"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://itheo.tech/creating-twitter-cards-dynamically-with-python.html"},"headline":"Creating Twitter Cards dynamically with Python","datePublished":"2021-12-22T15:23","dateModified":"2024-06-01T19:42","image":{"@type":"ImageObject","url":"https://itheo.tech/media/posts/79/TMgak-bFp.jpeg","height":1200,"width":1600},"description":"So, I'm on Hashnode and I want to expose my articles even more. There is a field within the articles settings on Hashnode where you can put a twitter card image. I really never used twitter cards, I just hoped the Cover photo would be&hellip;","author":{"@type":"Person","name":"Theo van der Sluijs","url":"https://itheo.tech/authors/theo-van-der-sluijs/"},"publisher":{"@type":"Organization","name":"Theo van der Sluijs","logo":{"@type":"ImageObject","url":"https://itheo.tech/media/website/itheo.tech-500x125-logo.png","height":125,"width":500}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://itheo.tech/"><img src="https://itheo.tech/media/website/itheo.tech-500x125-logo.png" alt="iTheo.Tech" width="500" height="125"></a><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://itheo.tech/media/posts/79/TMgak-bFp.jpeg" srcset="https://itheo.tech/media/posts/79/responsive/TMgak-bFp-xs.webp 300w, https://itheo.tech/media/posts/79/responsive/TMgak-bFp-sm.webp 480w, https://itheo.tech/media/posts/79/responsive/TMgak-bFp-md.webp 768w, https://itheo.tech/media/posts/79/responsive/TMgak-bFp-lg.webp 1024w, https://itheo.tech/media/posts/79/responsive/TMgak-bFp-xl.webp 1360w, https://itheo.tech/media/posts/79/responsive/TMgak-bFp-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1200" width="1600" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2021-12-22T15:23">December 22, 2021</time></div><h1>Creating Twitter Cards dynamically with Python</h1><div class="post__meta post__meta--author"><img src="https://itheo.tech/media/website/64.png" loading="eager" height="512" width="512" class="post__author-thumb" alt="Theo van der Sluijs"> <a href="https://itheo.tech/authors/theo-van-der-sluijs/" class="feed__author">Theo van der Sluijs</a></div></div></header></div><div class="wrapper post__entry"><p>So, I'm on Hashnode and I want to expose my articles even more. There is a field within the articles settings on Hashnode where you can put a twitter card image. I really never used twitter cards, I just hoped the Cover photo would be enough to show what the article is about on twitter.</p><p>But being on Hashnode it has a great community with a lot of great articles. So browsing some articles in my feed I saw this article written by <a target="_blank" href="https://hashnode.com/@braydoncoyer" rel="noopener">Braydon Coyer</a> about <a target="_blank" href="https://braydoncoyer.dev/blog/how-to-dynamically-create-open-graph-images-with-cloudinary-and-next.js" rel="noopener">creating twitter cards dynamically</a>.</p><p>When reading his great post, I could not stop thinking.... this can be done with Python. And, sorry to say so Braydon, also much easier and cheaper.</p><h2 id="heading-create-a-twitter-card-with-python">Create a Twitter card with Python</h2><p>There are some things you need before you can actually start creating twitter cards with Python.</p><p>First you need a pre-made PNG image that you want to use as basis for you cards.</p><p>Part of the PNG image needs to be transparent and prefilled with some info, like your name, your photo and site name or url.</p><p>Something like this:</p><p><img loading="lazy" src="https://itheo.tech/media/posts/79/IPjB1l317.png" alt="twitter-card.png" sizes="100vw" srcset="https://itheo.tech/media/posts/79/responsive/IPjB1l317-xs.webp 300w, https://itheo.tech/media/posts/79/responsive/IPjB1l317-sm.webp 480w, https://itheo.tech/media/posts/79/responsive/IPjB1l317-md.webp 768w, https://itheo.tech/media/posts/79/responsive/IPjB1l317-lg.webp 1024w, https://itheo.tech/media/posts/79/responsive/IPjB1l317-xl.webp 1360w, https://itheo.tech/media/posts/79/responsive/IPjB1l317-2xl.webp 1600w"></p><p>The size of the image should be 1200 pixels by 628 Pixels.</p><p>You need the name of the font you are using (it has to be installed on your machine).</p><p>For this script to work you need to install Pillow and textwrap3.</p><h2 id="heading-what-is-pillow">What is Pillow</h2><p>PILLOW is a Python Imaging Library fork for cross-platform image processing. It is designed to have a simple interface with no external dependencies, so it's easy to use and ready to go when you are.</p><p>PILLOW provides an easy-to-use interface with no external dependencies, so you can start using it immediately.</p><p>I'm using PILLOW within this script to put text on a PNG file and to use another image as background for the transparent part of your twitter card.</p><p>You can install Pillow by: <code>pip install Pillow</code></p><h2 id="heading-what-is-textwrap3">What is textwrap3</h2><p>Textwrap3 is a Python library for text wrapping and filling. It can be used to wrap text at a specified line length or leave the text as one long line.</p><p>It is important to note that Textwrap 3 is an open source library, so its available free of cost. This makes it the perfect tool for beginners who might not have access to expensive software or just need a simple solution.</p><p>Textwrap3 is being used to wrap the text when its to long and goes over the transparent part. You will have to play around with the value to get it right on your twitter card template.</p><p>You can install textwrap3 by: <code>pip install textwrap3</code></p><h2 id="heading-other-needs-for-this-script">Other needs for this script</h2><p>You need the following folders</p><ul><li>background</li><li>png</li></ul><p>In the PNG folder you can put your twitter card template. The file should be a transparent PNG. Naming it "twitter-card.png" make things easier.</p><p>In Background you can put the image file that comes behind your twitter card template.</p><p>You also have to make your own adjustments to this script. As Text placement, coloring and image names.</p><p>The only things you need for the first time use are the below items.</p><pre><code class="lang-python">text = <span class="hljs-string">"Creating Twitter Cards dynamically with Python"</span><restore-line-break>background_image = <span class="hljs-string">"backgrounds/background_img.jpg"</span> <restore-line-break>foreground_image = <span class="hljs-string">"png/twitter-card.png"</span> <restore-line-break>font = <span class="hljs-string">"AllertaStencil-Regular.ttf"</span><restore-line-break>font_size = <span class="hljs-number">55</span><restore-line-break>text_wrap_width = <span class="hljs-number">22</span> <span class="hljs-comment"># width when text is wrapped</span><restore-line-break>offset = <span class="hljs-number">44</span> <span class="hljs-comment"># pixels from the left</span><restore-line-break>margin = <span class="hljs-number">186</span> <span class="hljs-comment"># pixels from the top</span><restore-line-break>color = (<span class="hljs-number">249</span>,<span class="hljs-number">249</span>,<span class="hljs-number">249</span>)<restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre><p>Each time you want to create a new twitter card you need to change the <code>text</code> value and the <code>background_image</code> value.</p><p>And that's it.</p><p>When you filled the fields and do a <code>python twitter-card.py</code> the image will be created for you.</p><p><img loading="lazy" src="https://itheo.tech/media/posts/79/kmXGOyzii.jpeg" alt="creating_twitter_cards_dynamically_with_python.jpg" sizes="100vw" srcset="https://itheo.tech/media/posts/79/responsive/kmXGOyzii-xs.webp 300w, https://itheo.tech/media/posts/79/responsive/kmXGOyzii-sm.webp 480w, https://itheo.tech/media/posts/79/responsive/kmXGOyzii-md.webp 768w, https://itheo.tech/media/posts/79/responsive/kmXGOyzii-lg.webp 1024w, https://itheo.tech/media/posts/79/responsive/kmXGOyzii-xl.webp 1360w, https://itheo.tech/media/posts/79/responsive/kmXGOyzii-2xl.webp 1600w"></p><h2 id="heading-python-code-for-dynamic-twitter-card">Python code for dynamic Twitter Card</h2><p>Just copy the following code and past it in a empty file naming it <code>twitter-card.py</code>.</p><pre><code class="lang-python"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<restore-line-break><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> ImageFont<restore-line-break><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> ImageDraw<restore-line-break><span class="hljs-keyword">import</span> textwrap<restore-line-break><restore-line-break>text = <span class="hljs-string">"Creating Twitter Cards dynamically with Python"</span><restore-line-break>background_image = <span class="hljs-string">"backgrounds/brett-jordan.jpg"</span> <span class="hljs-comment"># this is the background</span><restore-line-break>foreground_image = <span class="hljs-string">"png/twitter-card.png"</span> <span class="hljs-comment"># this is your default card</span><restore-line-break>font = <span class="hljs-string">"AllertaStencil-Regular.ttf"</span><restore-line-break>font_size = <span class="hljs-number">55</span><restore-line-break>text_wrap_width = <span class="hljs-number">22</span><restore-line-break>offset = <span class="hljs-number">44</span> <span class="hljs-comment">#pixels from the left</span><restore-line-break>margin = <span class="hljs-number">186</span> <span class="hljs-comment">#pixels from the top</span><restore-line-break>color = (<span class="hljs-number">249</span>,<span class="hljs-number">249</span>,<span class="hljs-number">249</span>)<restore-line-break><restore-line-break><span class="hljs-comment">## DO NOT change below this line!!</span><restore-line-break>save_name = <span class="hljs-string">f"<span class="hljs-subst">{text.lower().replace(<span class="hljs-string">' '</span>, <span class="hljs-string">'_'</span>)}</span>.jpg"</span><restore-line-break>textwrapped = textwrap.wrap(text, width=text_wrap_width)<restore-line-break><restore-line-break>foreground = Image.open(foreground_image)<restore-line-break>background_width, background_height = foreground.size<restore-line-break>foreground.convert(<span class="hljs-string">'RGBA'</span>) <span class="hljs-comment"># To make sure the foreground contains transparency in all cases</span><restore-line-break><restore-line-break>background = Image.open(background_image)<restore-line-break>background.convert(<span class="hljs-string">'RGBA'</span>)<restore-line-break>background = background.resize((background_width, background_height))<restore-line-break>background.paste(foreground, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), foreground)<restore-line-break><restore-line-break>draw = ImageDraw.Draw(background)<restore-line-break>font = ImageFont.truetype(font, font_size)<restore-line-break>draw.text((offset,margin), <span class="hljs-string">'n'</span>.join(textwrapped), font=font, fill=color)<restore-line-break><restore-line-break>background.save(<span class="hljs-string">f"output/<span class="hljs-subst">{save_name}</span>"</span>)<restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on June 1, 2024</p><div class="post__share"></div><div class="post__bio bio"><img src="https://itheo.tech/media/website/64.png" loading="lazy" height="512" width="512" class="bio__avatar" alt="Theo van der Sluijs"><div><h3 class="bio__name"><a href="https://itheo.tech/authors/theo-van-der-sluijs/" rel="author">Theo van der Sluijs</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://itheo.tech/the-ultimate-raspberry-pi-python-setup.html" class="post__nav-link" rel="prev"><span>Previous</span> The Ultimate Raspberry Pi Python setup</a></div><div class="post__nav-next"><a href="https://itheo.tech/bootcamp-met-runtastic-hartslag-monitor.html" class="post__nav-link" rel="next"><span>Next</span> Bootcamp met runtastic hartslag monitor </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2018-10-03T22:00" class="feed__date">October 3, 2018</time></div><h3 class="h1"><a href="https://itheo.tech/scraping-contact-data-with-python-export-to-csv.html">Scraping contact data with Python export to csv</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2018-11-30T23:00" class="feed__date">November 30, 2018</time></div><h3 class="h1"><a href="https://itheo.tech/image-resize-python-automation-script.html">Image resize python automation script</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2018-12-19T23:00" class="feed__date">December 19, 2018</time></div><h3 class="h1"><a href="https://itheo.tech/get-colors-from-images-python-script.html">Get colors from images python script</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>iTheo.Tech</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://itheo.tech/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>