<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Creating a Dynamic Product Screen in WordPress WooCommerce - iTheo.Tech</title><meta name="description" content="Hello there! As you might know I'm a bit of a Python Developer and you might wonder, what's a Python guy doing in the WordPress world? Well, that's the magic of being in tech—you're never confined to one box! So, why did I delve into&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://itheo.tech/creating-a-dynamic-product-screen-in-wordpress-woocommerce.html"><link rel="alternate" type="application/atom+xml" href="https://itheo.tech/feed.xml"><link rel="alternate" type="application/json" href="https://itheo.tech/feed.json"><meta property="og:title" content="Creating a Dynamic Product Screen in WordPress WooCommerce"><meta property="og:image" content="https://itheo.tech/media/posts/108/557dfc5f8faab484a12dde704f8a8421.jpeg"><meta property="og:image:width" content="1600"><meta property="og:image:height" content="1234"><meta property="og:site_name" content="iTheo.Tech"><meta property="og:description" content="Hello there! As you might know I'm a bit of a Python Developer and you might wonder, what's a Python guy doing in the WordPress world? Well, that's the magic of being in tech—you're never confined to one box! So, why did I delve into&hellip;"><meta property="og:url" content="https://itheo.tech/creating-a-dynamic-product-screen-in-wordpress-woocommerce.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://itheo.tech/assets/css/style.css?v=6fbb1e8931a5afe843374fd67c192c86"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://itheo.tech/creating-a-dynamic-product-screen-in-wordpress-woocommerce.html"},"headline":"Creating a Dynamic Product Screen in WordPress WooCommerce","datePublished":"2023-10-15T09:32","dateModified":"2024-06-01T19:42","image":{"@type":"ImageObject","url":"https://itheo.tech/media/posts/108/557dfc5f8faab484a12dde704f8a8421.jpeg","height":1234,"width":1600},"description":"Hello there! As you might know I'm a bit of a Python Developer and you might wonder, what's a Python guy doing in the WordPress world? Well, that's the magic of being in tech—you're never confined to one box! So, why did I delve into&hellip;","author":{"@type":"Person","name":"Theo van der Sluijs","url":"https://itheo.tech/authors/theo-van-der-sluijs/"},"publisher":{"@type":"Organization","name":"Theo van der Sluijs","logo":{"@type":"ImageObject","url":"https://itheo.tech/media/website/itheo.tech-500x125-logo.png","height":125,"width":500}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://itheo.tech/"><img src="https://itheo.tech/media/website/itheo.tech-500x125-logo.png" alt="iTheo.Tech" width="500" height="125"></a><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://itheo.tech/media/posts/108/557dfc5f8faab484a12dde704f8a8421.jpeg" srcset="https://itheo.tech/media/posts/108/responsive/557dfc5f8faab484a12dde704f8a8421-xs.webp 300w, https://itheo.tech/media/posts/108/responsive/557dfc5f8faab484a12dde704f8a8421-sm.webp 480w, https://itheo.tech/media/posts/108/responsive/557dfc5f8faab484a12dde704f8a8421-md.webp 768w, https://itheo.tech/media/posts/108/responsive/557dfc5f8faab484a12dde704f8a8421-lg.webp 1024w, https://itheo.tech/media/posts/108/responsive/557dfc5f8faab484a12dde704f8a8421-xl.webp 1360w, https://itheo.tech/media/posts/108/responsive/557dfc5f8faab484a12dde704f8a8421-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1234" width="1600" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2023-10-15T09:32">October 15, 2023</time></div><h1>Creating a Dynamic Product Screen in WordPress WooCommerce</h1><div class="post__meta post__meta--author"><img src="https://itheo.tech/media/website/64.png" loading="eager" height="512" width="512" class="post__author-thumb" alt="Theo van der Sluijs"> <a href="https://itheo.tech/authors/theo-van-der-sluijs/" class="feed__author">Theo van der Sluijs</a></div></div></header></div><div class="wrapper post__entry"><p>Hello there! As you might know I'm a bit of a Python Developer and you might wonder, what's a Python guy doing in the WordPress world? Well, that's the magic of being in tech—you're never confined to one box!</p><p>So, why did I delve into WordPress and WooCommerce? Simple: I wanted to create a solution that could provide transparency and accountability within the WooCommerce ecosystem. Knowing who did what and when can be vital for many online businesses. Plus, I wanted to offer a simple way to implement this, and what better way than through the snippets plugin for WordPress?</p><p>Let's dive into the specifics, shall we?</p><h2 id="heading-what-you-will-need">What You Will Need:</h2><ul><li><p>A WordPress WooCommerce site</p></li><li><p><a target="_blank" href="https://wordpress.org/plugins/code-snippets/" rel="noopener">Snippets plugin installed</a></p></li></ul><hr><h2 id="heading-what-does-the-code-do">What Does the Code Do?</h2><p>This script will add a section to your product edit screen in WooCommerce. The section will include two things:</p><ol><li><p>When the product was created and by who.</p></li><li><p>A list that displays the date, time, and username of anyone who edited the product.</p></li></ol><hr><h2 id="heading-the-code-whats-happening-under-the-hood">The Code: What's Happening Under the Hood?</h2><p>Before getting into the code, let's break it down, bit by bit.</p><h3 id="heading-adding-the-product-screen-element">Adding the Product Screen Element</h3><p>To add an element to the product screen, we'll hook into the WooCommerce API and define a function that adds our custom section.</p><pre><code class="lang-php"><span class="hljs-comment">// Hook to add the product data tab</span><restore-line-break>add_filter( <span class="hljs-string">'woocommerce_product_data_tabs'</span>, <span class="hljs-string">'add_custom_product_data_tab'</span> , <span class="hljs-number">99</span> , <span class="hljs-number">1</span> );<restore-line-break></restore-line-break></restore-line-break></code></pre><p>Here, we use the <code>add_filter</code> function to add our custom tab using the <code>woocommerce_product_data_tabs</code> hook.</p><hr><h3 id="heading-displaying-product-creation-info">Displaying Product Creation Info</h3><p>We'll need to fetch details about the product creation date and the user who created it.</p><pre><code class="lang-php"><span class="hljs-comment">// Get Product created details</span><restore-line-break>$product_id = $post->ID;<restore-line-break>$product = wc_get_product($product_id);<restore-line-break>$product_created = $product->get_date_created();<restore-line-break>$author_id = get_post_field (<span class="hljs-string">'post_author'</span>, $product_id);<restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre><p>Here, we fetch the product ID, and use WooCommerce functions to get the date it was created (<code>$product_created</code>). We also use WordPress functions to get the ID of the author (<code>$author_id</code>).</p><hr><h3 id="heading-displaying-product-edit-history">Displaying Product Edit History</h3><p>To track edits, we'll hook into WordPress's <code>save_post</code> action.</p><pre><code class="lang-php"><span class="hljs-comment">// Hook when the product is saved to save edit history</span><restore-line-break>add_action( <span class="hljs-string">'save_post'</span>, <span class="hljs-string">'save_product_edit_history'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">3</span> );<restore-line-break></restore-line-break></restore-line-break></code></pre><p>Here, we use the <code>add_action</code> function to call our custom function <code>save_product_edit_history</code> every time a product is saved. This allows us to keep track of edits.</p><hr><h2 id="heading-how-to-add-this-to-wordpress-using-snippets-plugin">How to Add This to WordPress Using Snippets Plugin</h2><ol><li><p>Open your WordPress dashboard and navigate to the Snippets plugin.</p></li><li><p>Create a new snippet and copy-paste the entire code into it.</p></li><li><p>Save and activate the snippet.</p></li></ol><hr><h2 id="heading-the-complete-code">The Complete Code</h2><pre><code class="lang-php"><span class="hljs-comment">// Hook to add the product data tab</span><restore-line-break>add_filter( <span class="hljs-string">'woocommerce_product_data_tabs'</span>, <span class="hljs-string">'add_custom_product_data_tab'</span> , <span class="hljs-number">99</span> , <span class="hljs-number">1</span> );<restore-line-break><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add_custom_product_data_tab</span>(<span class="hljs-params"> $tabs </span>) </span>{<restore-line-break>    $tabs[<span class="hljs-string">'custom_tab'</span>] = <span class="hljs-keyword">array</span>(<restore-line-break>        <span class="hljs-string">'label'</span> => __( <span class="hljs-string">'Product History'</span>, <span class="hljs-string">'my_text_domain'</span> ),<restore-line-break>        <span class="hljs-string">'target'</span> => <span class="hljs-string">'custom_product_data'</span>,<restore-line-break>    );<restore-line-break>    <span class="hljs-keyword">return</span> $tabs;<restore-line-break>}<restore-line-break><restore-line-break><span class="hljs-comment">// Show product created details and history of edits</span><restore-line-break>add_action(<span class="hljs-string">'woocommerce_product_data_panels'</span>, <span class="hljs-string">'custom_product_data_fields'</span>);<restore-line-break><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_product_data_fields</span>(<span class="hljs-params"></span>) </span>{<restore-line-break>    <span class="hljs-keyword">global</span> $post;<restore-line-break><restore-line-break>    <span class="hljs-comment">// Get Product created details</span><restore-line-break>    $product_id = $post->ID;<restore-line-break>    $product = wc_get_product($product_id);<restore-line-break>    $product_created = $product->get_date_created();<restore-line-break>    $author_id = get_post_field (<span class="hljs-string">'post_author'</span>, $product_id);<restore-line-break>    $author = get_the_author_meta( <span class="hljs-string">'display_name'</span>, $author_id );<restore-line-break><restore-line-break>    <span class="hljs-keyword">echo</span> <span class="hljs-string">'
<div id="custom_product_data" class="panel woocommerce_options_panel hidden">'</div></span>;<restore-line-break>    <span class="hljs-keyword">echo</span> <span class="hljs-string">'<strong>Created On:</strong> '</span> . $product_created;<restore-line-break>    <span class="hljs-keyword">echo</span> <span class="hljs-string">'<br>'</span>;<restore-line-break>    <span class="hljs-keyword">echo</span> <span class="hljs-string">'<strong>Created By:</strong> '</span> . $author;<restore-line-break>    <span class="hljs-keyword">echo</span> <span class="hljs-string">'<br>'</span>;<restore-line-break><restore-line-break>    <span class="hljs-comment">// Show edit history</span><restore-line-break>    $edit_history = get_post_meta($product_id, <span class="hljs-string">'_edit_history'</span>, <span class="hljs-literal">true</span>);<restore-line-break>    <span class="hljs-keyword">if</span> ($edit_history) {<restore-line-break>        <span class="hljs-keyword">echo</span> <span class="hljs-string">'<strong>Edit History:</strong>'</span>;<restore-line-break>        <span class="hljs-keyword">echo</span> <span class="hljs-string">'
<ul>'</ul></span>;<restore-line-break>        <span class="hljs-keyword">foreach</span> ($edit_history <span class="hljs-keyword">as</span> $edit) {<restore-line-break>            <span class="hljs-keyword">echo</span> <span class="hljs-string">'
<li>'</li></span> . $edit[<span class="hljs-string">'time'</span>] . <span class="hljs-string">' by '</span> . $edit[<span class="hljs-string">'username'</span>] . <span class="hljs-string">'
<p>'</p></span>;<restore-line-break>        }<restore-line-break>        <span class="hljs-keyword">echo</span> <span class="hljs-string">'
<p>'</p></span>;<restore-line-break>    }<restore-line-break>    <span class="hljs-keyword">echo</span> <span class="hljs-string">'</span></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre></div><p>';<restore-line-break>}<restore-line-break><restore-line-break><span class="hljs-comment">// Hook when the product is saved to save edit history</span><restore-line-break>add_action( <span class="hljs-string">'save_post'</span>, <span class="hljs-string">'save_product_edit_history'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">3</span> );<restore-line-break><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">save_product_edit_history</span>(<span class="hljs-params"> $post_id, $post, $update </span>) </span>{<restore-line-break><span class="hljs-keyword">if</span> ($post->post_type == <span class="hljs-string">'product'</span>) {<restore-line-break>$current_user = wp_get_current_user();<restore-line-break>$edit_history = get_post_meta($post_id, <span class="hljs-string">'_edit_history'</span>, <span class="hljs-literal">true</span>);<restore-line-break><span class="hljs-keyword">if</span> (!$edit_history) $edit_history = <span class="hljs-keyword">array</span>();<restore-line-break>$edit_history[] = <span class="hljs-keyword">array</span>(<span class="hljs-string">'time'</span> => current_time(<span class="hljs-string">'mysql'</span>), <span class="hljs-string">'username'</span> => $current_user->user_login);<restore-line-break>update_post_meta($post_id, <span class="hljs-string">'_edit_history'</span>, $edit_history);<restore-line-break>}<restore-line-break>}<restore-line-break><hr><p>And there you have it! A complete guide to adding a dynamic product screen to your WordPress WooCommerce site. Give it a try and see how it adds another layer of transparency to your online business. Cheers!</p></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></p></article></main></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on June 1, 2024</p><div class="post__share"></div><div class="post__bio bio"><img src="https://itheo.tech/media/website/64.png" loading="lazy" height="512" width="512" class="bio__avatar" alt="Theo van der Sluijs"><div><h3 class="bio__name"><a href="https://itheo.tech/authors/theo-van-der-sluijs/" rel="author">Theo van der Sluijs</a></h3></div></div></footer><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://itheo.tech/count-your-drive-to-work-days-with-volvo-drive-log.html" class="post__nav-link" rel="prev"><span>Previous</span> Count your drive to work-days with Volvo Drive Log</a></div><div class="post__nav-next"><a href="https://itheo.tech/building-python-projects-the-right-way-with-poetry-and-vs-code.html" class="post__nav-link" rel="next"><span>Next</span> Building Python Projects The Right Way with Poetry and VS Code </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2021-12-22T15:23" class="feed__date">December 22, 2021</time></div><h3 class="h1"><a href="https://itheo.tech/creating-twitter-cards-dynamically-with-python.html">Creating Twitter Cards dynamically with Python</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2022-11-20T18:27" class="feed__date">November 20, 2022</time></div><h3 class="h1"><a href="https://itheo.tech/updating-the-creality-neo-max-screen.html">Updating the Creality Neo (max) screen</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2023-04-24T08:33" class="feed__date">April 24, 2023</time></div><h3 class="h1"><a href="https://itheo.tech/download-space-wide-screen-images-with-python.html">Download space wide screen images with Python</a></h3></article></div></div><footer class="footer"><div class="footer__copyright"><p>iTheo.Tech</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#toparrow"/></svg></button></footer><script defer="defer" src="https://itheo.tech/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>