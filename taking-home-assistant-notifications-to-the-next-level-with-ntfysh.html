<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Taking Home Assistant Notifications to the Next Level with ntfy.sh - iTheo.Tech</title><meta name="description" content="Hey, everyone! Theo here. If you're into Home Automation as much as I am, you know the value of a good notification system. Today, we're talking about spicing up Home Assistant with ntfy.sh notifications. I've moved away from the default Home Assistant notifier for various&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://itheo.tech/taking-home-assistant-notifications-to-the-next-level-with-ntfysh.html"><link rel="alternate" type="application/atom+xml" href="https://itheo.tech/feed.xml"><link rel="alternate" type="application/json" href="https://itheo.tech/feed.json"><meta property="og:title" content="Taking Home Assistant Notifications to the Next Level with ntfy.sh"><meta property="og:image" content="https://itheo.tech/media/posts/105/c50c3a78-174b-4eb6-9fb6-5fcbb6204f7e.webp"><meta property="og:image:width" content="1792"><meta property="og:image:height" content="1024"><meta property="og:site_name" content="iTheo.Tech"><meta property="og:description" content="Hey, everyone! Theo here. If you're into Home Automation as much as I am, you know the value of a good notification system. Today, we're talking about spicing up Home Assistant with ntfy.sh notifications. I've moved away from the default Home Assistant notifier for various&hellip;"><meta property="og:url" content="https://itheo.tech/taking-home-assistant-notifications-to-the-next-level-with-ntfysh.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://itheo.tech/assets/css/style.css?v=6fbb1e8931a5afe843374fd67c192c86"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://itheo.tech/taking-home-assistant-notifications-to-the-next-level-with-ntfysh.html"},"headline":"Taking Home Assistant Notifications to the Next Level with ntfy.sh","datePublished":"2023-10-21T13:13","dateModified":"2024-06-01T19:42","image":{"@type":"ImageObject","url":"https://itheo.tech/media/posts/105/c50c3a78-174b-4eb6-9fb6-5fcbb6204f7e.webp","height":1024,"width":1792},"description":"Hey, everyone! Theo here. If you're into Home Automation as much as I am, you know the value of a good notification system. Today, we're talking about spicing up Home Assistant with ntfy.sh notifications. I've moved away from the default Home Assistant notifier for various&hellip;","author":{"@type":"Person","name":"Theo van der Sluijs","url":"https://itheo.tech/authors/theo-van-der-sluijs/"},"publisher":{"@type":"Organization","name":"Theo van der Sluijs","logo":{"@type":"ImageObject","url":"https://itheo.tech/media/website/itheo.tech-500x125-logo.png","height":125,"width":500}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://itheo.tech/"><img src="https://itheo.tech/media/website/itheo.tech-500x125-logo.png" alt="iTheo.Tech" width="500" height="125"></a><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://itheo.tech/media/posts/105/c50c3a78-174b-4eb6-9fb6-5fcbb6204f7e.webp" srcset="https://itheo.tech/media/posts/105/responsive/c50c3a78-174b-4eb6-9fb6-5fcbb6204f7e-xs.webp 300w, https://itheo.tech/media/posts/105/responsive/c50c3a78-174b-4eb6-9fb6-5fcbb6204f7e-sm.webp 480w, https://itheo.tech/media/posts/105/responsive/c50c3a78-174b-4eb6-9fb6-5fcbb6204f7e-md.webp 768w, https://itheo.tech/media/posts/105/responsive/c50c3a78-174b-4eb6-9fb6-5fcbb6204f7e-lg.webp 1024w, https://itheo.tech/media/posts/105/responsive/c50c3a78-174b-4eb6-9fb6-5fcbb6204f7e-xl.webp 1360w, https://itheo.tech/media/posts/105/responsive/c50c3a78-174b-4eb6-9fb6-5fcbb6204f7e-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1024" width="1792" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2023-10-21T13:13">October 21, 2023</time></div><h1>Taking Home Assistant Notifications to the Next Level with ntfy.sh</h1><div class="post__meta post__meta--author"><img src="https://itheo.tech/media/website/64.png" loading="eager" height="512" width="512" class="post__author-thumb" alt="Theo van der Sluijs"> <a href="https://itheo.tech/authors/theo-van-der-sluijs/" class="feed__author">Theo van der Sluijs</a></div></div></header></div><div class="wrapper post__entry"><p>Hey, everyone! Theo here. If you're into Home Automation as much as I am, you know the value of a good notification system. Today, we're talking about spicing up Home Assistant with <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a> notifications. I've moved away from the default Home Assistant notifier for various reasons, and I'm here to show you how you can too.</p><h3 id="heading-why-ntfyshhttpntfysh">Why <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a>?</h3><p>So, why switch? The built-in Home Assistant notifier is alright, but it's not as flexible as I’d like. <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a> offers:</p><ul><li><p>Customizable alerts</p></li><li><p>Versatility in backend support</p></li><li><p>Native app support for iOS and Android</p></li></ul><p>It’s geeky, it’s cool, and most importantly, it gives you more control!</p><h3 id="heading-setting-up-ntfyshhttpntfysh-the-easy-way">Setting Up <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a> the Easy Way</h3><p>Instead of diving into Python and pip installs, you can use Home Assistant's <code>shell_command</code> to set up <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a>. It's a simple, effective method that gets the job done.</p><h3 id="heading-configuring-configurationyml-in-home-assistant">Configuring <code>configuration.yml</code> in Home Assistant</h3><p>To add <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a> as a shell command, edit your Home Assistant's <code>configuration.yml</code> file like so:</p><pre><code class="lang-yaml"><span class="hljs-comment"># Adding ntfy as a shell command</span><restore-line-break><span class="hljs-attr">shell_command:</span><restore-line-break>  <span class="hljs-attr">ntfy:</span> <span class="hljs-string">><restore-line-break>    curl<restore-line-break>    -X POST<restore-line-break>    --url 'https://ntfy.sh/{{ topic }}'<restore-line-break>    --data '{{ message }}'<restore-line-break>    --header 'X-Title: {{ title }}'<restore-line-break>    --header 'X-Tags: {{ tags }}'<restore-line-break>    --header 'X-Priority: {{ priority }}'<restore-line-break>    --header 'X-Delay: {{ delay }}'<restore-line-break>    --header 'X-Actions: {{ actions }}'<restore-line-break>    --header 'X-Markdown: {{ markdown }}'<restore-line-break>    --header 'X-Click: {{ click }}'<restore-line-break>    --header 'X-Icon: {{ icon }}'</restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></span><restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre><p>This part sets up a shell command called <code>ntfy</code>. It uses <code>curl</code> to POST a message to the <a target="_blank" href="http://ntfy.sh" rel="noopener"><code>ntfy.sh</code></a> service. The syntax allows for an array of customizable fields like title, tags, and even the notification's icon.</p><h3 id="heading-using-ntfyshhttpntfysh-in-automation">Using <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a> in Automation</h3><p>Now that <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a> is set as a shell command, let’s use it in an automation task:</p><pre><code class="lang-yaml"><span class="hljs-attr">automation:</span><restore-line-break>  <span class="hljs-bullet">-</span> <span class="hljs-attr">alias:</span> <span class="hljs-string">'Notify When Door Opens'</span><restore-line-break>    <span class="hljs-attr">trigger:</span><restore-line-break>      <span class="hljs-attr">platform:</span> <span class="hljs-string">state</span><restore-line-break>      <span class="hljs-attr">entity_id:</span> <span class="hljs-string">binary_sensor.door</span><restore-line-break>      <span class="hljs-attr">to:</span> <span class="hljs-string">'on'</span><restore-line-break>    <span class="hljs-attr">action:</span><restore-line-break>      <span class="hljs-attr">service:</span> <span class="hljs-string">shell_command.ntfy</span><restore-line-break>      <span class="hljs-attr">data:</span><restore-line-break>        <span class="hljs-attr">topic:</span> <span class="hljs-string">'home'</span><restore-line-break>        <span class="hljs-attr">message:</span> <span class="hljs-string">'Door Open!'</span><restore-line-break>        <span class="hljs-attr">title:</span> <span class="hljs-string">'Security Alert'</span><restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre><p>Breaking it down:</p><ul><li><p><code>alias:</code>: The name of our automation.</p></li><li><p><code>trigger:</code>: The door sensor going 'on' will trigger this automation.</p></li><li><p><code>action:</code>: The <code>ntfy</code> shell command is executed here.</p></li><li><p><code>data:</code>: The <code>message</code>, and <code>title</code> fields specify what the notification will look like and say.</p></li><li><p><code>topic</code>, yes you also need a topic in the data, but I wanted to clarify that you should pick a unique name for it. Home, is not really unique and I'm guessing more people will use this topic. So every time somebody is sending a notification to home, you will also receive it. So it's best to create a unique one, like the initials of your name hash real topic or something like that. If I would want to have a home topic, I would name it : tvdsluijs_home.</p></li></ul><h3 id="heading-connecting-ntfyshhttpntfysh-app-on-ios-and-android">Connecting <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a> App on iOS and Android</h3><p>For real-time updates, you should install the <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a> mobile app. Once you sign in, you're set to receive your customized notifications. Just connect to your own topic (that is why it should be a unique topic name. And you will receive the notifications on your phone.</p><h3 id="heading-benefits">Benefits</h3><p>Switching to <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a> brings:</p><ul><li><p>Enhanced control</p></li><li><p>Multi-platform versatility</p></li><li><p>More personalization for your smart home experienceSo there you have it—a fun and simple way to add a layer of sophistication to your Home Assistant notifications with <a target="_blank" href="http://ntfy.sh" rel="noopener">ntfy.sh</a>. Feel free to hit me up in the comments with your thoughts or questions. Keep hacking your home!</p></li></ul></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on June 1, 2024</p><div class="post__share"></div><div class="post__bio bio"><img src="https://itheo.tech/media/website/64.png" loading="lazy" height="512" width="512" class="bio__avatar" alt="Theo van der Sluijs"><div><h3 class="bio__name"><a href="https://itheo.tech/authors/theo-van-der-sluijs/" rel="author">Theo van der Sluijs</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://itheo.tech/how-to-control-your-shelly-plug-s-led-light-with-python.html" class="post__nav-link" rel="prev"><span>Previous</span> How to Control Your Shelly Plug S LED Light with Python</a></div><div class="post__nav-next"><a href="https://itheo.tech/crafting-a-custom-wordpress-login-page-with-shortcodes.html" class="post__nav-link" rel="next"><span>Next</span> Crafting a Custom WordPress Login Page With Shortcodes </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2015-02-05T19:42" class="feed__date">February 5, 2015</time></div><h3 class="h1"><a href="https://itheo.tech/url-shortener-with-php-and-mongodb-script.html">Url shortener with PHP and MongoDB script</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2015-08-11T11:52" class="feed__date">August 11, 2015</time></div><h3 class="h1"><a href="https://itheo.tech/better-mongodb-backup-script-with-tar-and-move-to-s3-bucket.html">Better MongoDB backup script with Tar and move to S3 Bucket</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2018-03-18T12:35" class="feed__date">March 18, 2018</time></div><h3 class="h1"><a href="https://itheo.tech/using-ubuntu-on-windows-10-without-admin-rights.html">Using Ubuntu on Windows 10 without Admin Rights</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>iTheo.Tech</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://itheo.tech/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>