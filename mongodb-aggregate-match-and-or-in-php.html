<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Mongodb aggregate $match, $and, $or in PHP - iTheo.Tech</title><meta name="description" content="[Sorry, Dutch Only] MongoDB! Sinds ik er mee begonnen ben, ben ik er niet meer mee te stoppen. Okay… je kan je afvragen of het ten alle tijden MySQL zal vervangen, maar iknben in korte tijd echt Fan geworden van Mongodb. Maar de overstap van&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://itheo.tech/mongodb-aggregate-match-and-or-in-php.html"><link rel="alternate" type="application/atom+xml" href="https://itheo.tech/feed.xml"><link rel="alternate" type="application/json" href="https://itheo.tech/feed.json"><meta property="og:title" content="Mongodb aggregate $match, $and, $or in PHP"><meta property="og:image" content="https://itheo.tech/media/posts/19/YDrYgiGgX.jpeg"><meta property="og:image:width" content="1600"><meta property="og:image:height" content="1067"><meta property="og:site_name" content="iTheo.Tech"><meta property="og:description" content="[Sorry, Dutch Only] MongoDB! Sinds ik er mee begonnen ben, ben ik er niet meer mee te stoppen. Okay… je kan je afvragen of het ten alle tijden MySQL zal vervangen, maar iknben in korte tijd echt Fan geworden van Mongodb. Maar de overstap van&hellip;"><meta property="og:url" content="https://itheo.tech/mongodb-aggregate-match-and-or-in-php.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://itheo.tech/assets/css/style.css?v=6fbb1e8931a5afe843374fd67c192c86"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://itheo.tech/mongodb-aggregate-match-and-or-in-php.html"},"headline":"Mongodb aggregate $match, $and, $or in PHP","datePublished":"2015-01-09T16:58","dateModified":"2024-06-01T19:42","image":{"@type":"ImageObject","url":"https://itheo.tech/media/posts/19/YDrYgiGgX.jpeg","height":1067,"width":1600},"description":"[Sorry, Dutch Only] MongoDB! Sinds ik er mee begonnen ben, ben ik er niet meer mee te stoppen. Okay… je kan je afvragen of het ten alle tijden MySQL zal vervangen, maar iknben in korte tijd echt Fan geworden van Mongodb. Maar de overstap van&hellip;","author":{"@type":"Person","name":"Theo van der Sluijs","url":"https://itheo.tech/authors/theo-van-der-sluijs/"},"publisher":{"@type":"Organization","name":"Theo van der Sluijs","logo":{"@type":"ImageObject","url":"https://itheo.tech/media/website/itheo.tech-500x125-logo.png","height":125,"width":500}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://itheo.tech/"><img src="https://itheo.tech/media/website/itheo.tech-500x125-logo.png" alt="iTheo.Tech" width="500" height="125"></a><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://itheo.tech/media/posts/19/YDrYgiGgX.jpeg" srcset="https://itheo.tech/media/posts/19/responsive/YDrYgiGgX-xs.webp 300w, https://itheo.tech/media/posts/19/responsive/YDrYgiGgX-sm.webp 480w, https://itheo.tech/media/posts/19/responsive/YDrYgiGgX-md.webp 768w, https://itheo.tech/media/posts/19/responsive/YDrYgiGgX-lg.webp 1024w, https://itheo.tech/media/posts/19/responsive/YDrYgiGgX-xl.webp 1360w, https://itheo.tech/media/posts/19/responsive/YDrYgiGgX-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1067" width="1600" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2015-01-09T16:58">January 9, 2015</time></div><h1>Mongodb aggregate $match, $and, $or in PHP</h1><div class="post__meta post__meta--author"><img src="https://itheo.tech/media/website/64.png" loading="eager" height="512" width="512" class="post__author-thumb" alt="Theo van der Sluijs"> <a href="https://itheo.tech/authors/theo-van-der-sluijs/" class="feed__author">Theo van der Sluijs</a></div></div></header></div><div class="wrapper post__entry"><p>[Sorry, Dutch Only] MongoDB! Sinds ik er mee begonnen ben, ben ik er niet meer mee te stoppen.</p><p>Okay… je kan je afvragen of het ten alle tijden MySQL zal vervangen, maar iknben in korte tijd echt Fan geworden van Mongodb.</p><p>Maar de overstap van MySQL Queries naar Aggregate functions is wel evennwennen.</p><p>Voor één van mijn sites ben nogal aan het stuntelen geweest met de queries (wat aggregation heet). En er is ook nog nietnheel veel over te vinden, dus dacht ik laat ik het eens delen met mijn medemens.</p><h4 id="heading-mongodb-mongodb">MongoDB {#mongodb}</h4><p>MongoDB is een opensource document-georiënteerde database en is geschreven in C++. Er is geen schema, de documenten worden in de vorm van BSON (binair JSON) opgeslagen en de structuur van deze documenten is flexibel. De database kan gemakkelijk gedistribueerd worden, de data wordt dan over meerdere computers verspreid om gedistribueerde gegevensverwerking mogelijk te maken. MongoDB is geen relationeel databasemanagementsysteem, er is geen ondersteuning voor joins en voldoet ook niet aan de ACID-regels want de ondersteuning voor transacties is beperkt. MongoDB wordt gerekend tot de zogenaamde NoSQL-ndatabases.</p><p><a target="_blank" href="http://nl.wikipedia.org/wiki/MongoDB" rel="noopener">Wikipedia</a></p><h4 id="heading-aggregation">Aggregation</h4><p>Om met php en MongoDB goede queries te bouwen kan je het beste met Aggregation de query bouwen.</p><p>Je bouwt dan doormiddel van array’s je query op en zo kan je diverse zaken met elkaar koppelen.</p><p>Zo kan je $match, $and, $or, $sort en $group met elkaar op wat voor manier met elkaar gebruiken.</p><p>In de hoofdstukken hier onder laat ik je zien hoe je per onderdeel apart en gecombineerd de functions kan gebruiken.</p><h4 id="heading-dollarmatch">$match</h4><p>Met $match kan je binnen je mongodb een (aggregate) selectie maken op ‘veld’-niveau</p><h4 id="heading-dollarmatch-en-dollarand">$match en $and</h4><p>Maak een (aggregate) selectie op twee verschillende velden via $and</p><h4 id="heading-dollarmatch-en-dollaror">$match en $or</h4><p>De één of de ander via een (aggregate) selectie op twee verschillende velden via $or</p><h4 id="heading-dollarmatch-en-dollaror-en-dollarand">$match en $or en $and</h4><p>Een (aggregate) selectie op 3 velden met $and en $or, dus een combinatie vanntwee velden of een ander veld.</p><h4 id="heading-dollarmatch-en-dollarin">$match en $in</h4><p>Maak een (aggregate) selectie op één veld met meerdere waarden. Dit doe je door gebruik van $in en een array met waarden</p><h4 id="heading-vergelijkingen-maken-met-dollargt-dollargte-dollarlt-dollarlte-dollarne">Vergelijkingen maken met $gt $gte $lt $lte $ne</h4><p>Er zijn via de aggregation (selectie) diverse manieren om vergelijkingen te maken. Je had al de $IN manier om te vergelijken met een array met waarden. Maar je hebt ook de volgende nog.</p><ul><li>$gt — groter</li><li>$gte — groter of gelijk</li><li>$lt — kleiner</li><li>$lte — kleiner of gelijk</li><li>$ne — ongelijk aan</li></ul><p>Hieronder een voorbeeld van een vergelijking met $gte</p><p>En hier nog een vergelijking met $gte en $lte om een between de doen bij een datum</p><p>Nou… ik zou zeggen voldoende voorbeelden moet je voorlopig wel weer even opweg helpen.. toch?</p><p>Mocht je nog vragen hebben aarzel niet om contact met mij op te nemen!</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on June 1, 2024</p><div class="post__share"></div><div class="post__bio bio"><img src="https://itheo.tech/media/website/64.png" loading="lazy" height="512" width="512" class="bio__avatar" alt="Theo van der Sluijs"><div><h3 class="bio__name"><a href="https://itheo.tech/authors/theo-van-der-sluijs/" rel="author">Theo van der Sluijs</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://itheo.tech/zend-insert-update-on-duplicate-mysql.html" class="post__nav-link" rel="prev"><span>Previous</span> Zend Insert Update ON Duplicate MySQL</a></div><div class="post__nav-next"><a href="https://itheo.tech/installation-and-configuration-s3cmd-centos.html" class="post__nav-link" rel="next"><span>Next</span> Installation and configuration S3CMD Centos </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2020-03-18T07:14" class="feed__date">March 18, 2020</time></div><h3 class="h1"><a href="https://itheo.tech/mongodb-datadb-folder-permission-problems.html">MongoDB /data/db folder permission problems</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2015-01-30T21:25" class="feed__date">January 30, 2015</time></div><h3 class="h1"><a href="https://itheo.tech/mongodb-backups-op-amazon-s3-met-s3cmd.html">MongoDB backups op Amazon S3 met S3CMD</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2015-02-05T19:42" class="feed__date">February 5, 2015</time></div><h3 class="h1"><a href="https://itheo.tech/url-shortener-with-php-and-mongodb-script.html">Url shortener with PHP and MongoDB script</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>iTheo.Tech</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://itheo.tech/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>