<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Use SSH keys on your Raspberry Pi - iTheo.Tech</title><meta name="description" content="Accessing your Raspberry Pi with SSH is very easy, with this guide you will learn to use SSH keys to make access to your Raspberry Pi even easier. Before I even start on ssh and ssh-keys on your Raspberry Pi, please please please change the&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://itheo.tech/use-ssh-keys-on-your-raspberry-pi.html"><link rel="alternate" type="application/atom+xml" href="https://itheo.tech/feed.xml"><link rel="alternate" type="application/json" href="https://itheo.tech/feed.json"><meta property="og:title" content="Use SSH keys on your Raspberry Pi"><meta property="og:image" content="https://itheo.tech/media/posts/23/qsy34Fz4t.jpeg"><meta property="og:image:width" content="1600"><meta property="og:image:height" content="900"><meta property="og:site_name" content="iTheo.Tech"><meta property="og:description" content="Accessing your Raspberry Pi with SSH is very easy, with this guide you will learn to use SSH keys to make access to your Raspberry Pi even easier. Before I even start on ssh and ssh-keys on your Raspberry Pi, please please please change the&hellip;"><meta property="og:url" content="https://itheo.tech/use-ssh-keys-on-your-raspberry-pi.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://itheo.tech/assets/css/style.css?v=6fbb1e8931a5afe843374fd67c192c86"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://itheo.tech/use-ssh-keys-on-your-raspberry-pi.html"},"headline":"Use SSH keys on your Raspberry Pi","datePublished":"2020-10-14T04:55","dateModified":"2024-06-01T19:42","image":{"@type":"ImageObject","url":"https://itheo.tech/media/posts/23/qsy34Fz4t.jpeg","height":900,"width":1600},"description":"Accessing your Raspberry Pi with SSH is very easy, with this guide you will learn to use SSH keys to make access to your Raspberry Pi even easier. Before I even start on ssh and ssh-keys on your Raspberry Pi, please please please change the&hellip;","author":{"@type":"Person","name":"Theo van der Sluijs","url":"https://itheo.tech/authors/theo-van-der-sluijs/"},"publisher":{"@type":"Organization","name":"Theo van der Sluijs","logo":{"@type":"ImageObject","url":"https://itheo.tech/media/website/itheo.tech-500x125-logo.png","height":125,"width":500}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://itheo.tech/"><img src="https://itheo.tech/media/website/itheo.tech-500x125-logo.png" alt="iTheo.Tech" width="500" height="125"></a><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://itheo.tech/media/posts/23/qsy34Fz4t.jpeg" srcset="https://itheo.tech/media/posts/23/responsive/qsy34Fz4t-xs.webp 300w, https://itheo.tech/media/posts/23/responsive/qsy34Fz4t-sm.webp 480w, https://itheo.tech/media/posts/23/responsive/qsy34Fz4t-md.webp 768w, https://itheo.tech/media/posts/23/responsive/qsy34Fz4t-lg.webp 1024w, https://itheo.tech/media/posts/23/responsive/qsy34Fz4t-xl.webp 1360w, https://itheo.tech/media/posts/23/responsive/qsy34Fz4t-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="900" width="1600" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2020-10-14T04:55">October 14, 2020</time></div><h1>Use SSH keys on your Raspberry Pi</h1><div class="post__meta post__meta--author"><img src="https://itheo.tech/media/website/64.png" loading="eager" height="512" width="512" class="post__author-thumb" alt="Theo van der Sluijs"> <a href="https://itheo.tech/authors/theo-van-der-sluijs/" class="feed__author">Theo van der Sluijs</a></div></div></header></div><div class="wrapper post__entry"><p>Accessing your Raspberry Pi with SSH is very easy, with this guide you will learn to use SSH keys to make access to your Raspberry Pi even easier.</p><p>Before I even start on ssh and ssh-keys on your Raspberry Pi, please please please change the standard password on your Raspberry Pi! If you have your own linux OS running on your Pi this might not be needed but when using the Rasp OS please change it!</p><h2 id="heading-login-without-password-on-raspberry-pi">Login without password on Raspberry Pi</h2><p>Yes! It’s possible to login without a password! But you need to configure your Raspberry Pi to allow access from another computer with an SSH key instead of a password.</p><p>Let’s first check if you already have keys on the computer you are using to connect to the Raspberry Pi:</p><pre><code class="lang-bash">ls ~/.ssh<restore-line-break></restore-line-break></code></pre><p>If you see files named <code>id_rsa.pub</code> or <code>id_dsa.pub</code> then you have keys set up already, so you can skip the ‘Generate new SSH keys’ step below.</p><p>Oh… did I already mention this is a Mac, Linux or Windows Subsystem for Linux (WSL) on Windows 10 Sorry all other windows users.</p><p>Okay… no keys? Let’s generate them! To generate new SSH keys enter the following command:</p><pre><code class="lang-bash">ssh-keygen<restore-line-break></restore-line-break></code></pre><p>Upon entering this command, you will be asked where to save the key. I would suggest to save it in the default location (<code>~/.ssh/id_rsa</code>) by pressing <code>Enter</code>.</p><p>You will also be asked to enter a passphrase, which is optional. The passphrase is used to encrypt the private SSH key, so that if someone else copied the key, they could not impersonate you to gain access. If you choose to use a passphrase, type it here and press <code>Enter</code>, then type it again when prompted. Leave the field empty for no passphrase.</p><p>Now look inside your <code>.ssh</code> directory:</p><pre><code class="lang-bash">ls ~/.ssh<restore-line-break></restore-line-break></code></pre><p>and you should see the files <code>id_rsa</code> and <code>id_rsa.pub</code>:</p><pre><code class="lang-bash">authorized_keys  id_rsa  id_rsa.pub  known_hosts<restore-line-break></restore-line-break></code></pre><p>The <code>id_rsa</code> file is your private key. Keep this on your computer. Don’t give it to anyone! EVER! Protect it with your life!</p><p>The <code>id_rsa.pub</code> file is your public key. This is what you share with machines that you connect to: in this case your own Raspberry Pi. When the machine you try to connect to matches up your public and private key, it will allow you to connect.</p><p>Take a look at your public key to see what it looks like:</p><pre><code class="lang-bash">cat ~/.ssh/id_rsa.pub<restore-line-break></restore-line-break></code></pre><p>It should be in the form:</p><pre><code class="lang-bash">ssh-rsa <really long string of random characters> user@host<restore-line-break></restore-line-break></really></code></pre><p>No it is time to copy it to the Rasp. Using the computer which you will be connecting from, append the public key to your <code>authorized_keys</code> file on the Raspberry Pi by sending it over SSH:</p><pre><code class="lang-bash">ssh-copy-id <username>@<ip-address><restore-line-break></restore-line-break></ip-address></username></code></pre><p><em>Note that for this step you will need to authenticate with your Raspberry Pi password.</em></p><p>No <code>ssh-copy-id</code> available on your system, buy a <a target="_blank" href="https://amzn.to/34Rs7df" rel="noopener">Mac</a> (<em>affiliate link</em>), or you can copy the file manually over SSH:</p><pre><code class="lang-bash">cat ~/.ssh/id_rsa.pub | ssh <username>@<ip-address> <span class="hljs-string">'mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys'</span><restore-line-break></restore-line-break></ip-address></username></code></pre><p>If you see the message <code>ssh: connect to host<ip-address>port 22: Connection refused</ip-address></code> and you know the <code>IP-ADDRESS</code> is correct, then you may not have enabled SSH on your Raspberry Pi. <a target="_blank" href="https://itheo.tech/open-ssh-on-your-raspberry-pi/" rel="noopener">Read this</a> to turn on your SSH on your Raspberry Pi.</p><p>Now try <code>ssh<user>@<ip-address></ip-address></user></code> and you should connect without a password prompt.</p><p>If you see a message “Agent admitted failure to sign using the key” then add your RSA or DSA identities to the authentication agent <code>ssh-agent</code> then execute the following command:</p><pre><code class="lang-bash">ssh-add<restore-line-break></restore-line-break></code></pre><p>If this does not work, you can get assistance on the <a target="_blank" href="https://www.raspberrypi.org/forums/" rel="noopener">Raspberry Pi forums</a>.</p><h3 id="heading-ssh-keys-on-your-raspberry-pi-by-scp">SSH keys on your Raspberry Pi by SCP</h3><p><strong><strong>Note:</strong></strong> you can also send files over SSH using the <code>scp</code> command (secure copy). See the <a target="_blank" href="https://www.raspberrypi.org/documentation/remote-access/ssh/scp.md" rel="noopener">SCP guide</a> for more information.</p><p>If you are using macOS like me, and after verifying that your new key allows you to connect, you have the option of storing the passphrase for your key in the macOS keychain. This allows you to connect to your Raspberry Pi without entering the passphrase.</p><p>Run the following command to store it in your keychain:</p><pre><code class="lang-bash">ssh-add -K ~/.ssh/id_rsa<restore-line-break></restore-line-break></code></pre><p>All done!</p><p>Happy Programming!</p><p>Oh yes… on how to change your Raspberry Pi password <a target="_blank" href="https://itheo.tech/change-the-password-on-your-raspberry-pi" rel="noopener">read this</a>.</p><p>To create this manual I used the manual from <a target="_blank" href="https://www.raspberrypi.org/documentation/remote-access/ssh/passwordless.md" rel="noopener">Raspberry Pi</a>.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on June 1, 2024</p><div class="post__share"></div><div class="post__bio bio"><img src="https://itheo.tech/media/website/64.png" loading="lazy" height="512" width="512" class="bio__avatar" alt="Theo van der Sluijs"><div><h3 class="bio__name"><a href="https://itheo.tech/authors/theo-van-der-sluijs/" rel="author">Theo van der Sluijs</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://itheo.tech/read-p1-port-smart-meter-with-raspberry-and-python.html" class="post__nav-link" rel="prev"><span>Previous</span> Read P1 port smart meter with Raspberry and Python</a></div><div class="post__nav-next"><a href="https://itheo.tech/open-ssh-on-your-raspberry-pi.html" class="post__nav-link" rel="next"><span>Next</span> Open SSH on your Raspberry Pi </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2021-12-06T06:01" class="feed__date">December 6, 2021</time></div><h3 class="h1"><a href="https://itheo.tech/raspberry-pi-update-python-guide.html">Raspberry Pi update Python Guide</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2020-03-10T21:40" class="feed__date">March 10, 2020</time></div><h3 class="h1"><a href="https://itheo.tech/import-your-jekyll-posts-and-articles-into-ghost.html">Import your Jekyll posts and articles into Ghost</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2020-10-01T05:32" class="feed__date">October 1, 2020</time></div><h3 class="h1"><a href="https://itheo.tech/install-python-38-on-a-raspberry-pi.html">Install Python 3.8 on a Raspberry Pi</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>iTheo.Tech</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://itheo.tech/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>