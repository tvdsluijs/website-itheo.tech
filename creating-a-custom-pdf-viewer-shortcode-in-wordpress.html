<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>Creating a Custom PDF Viewer Shortcode in WordPress - iTheo.Tech </title>
        <meta name="description" content="Hello there, WordPress enthusiasts! Today, we're going to walk through a handy WordPress solution that will allow you to display PDF files directly on your posts or pages using a custom shortcode. In a nutshell, we're building a custom WordPress script that will create a&hellip;" />
         
        <meta name="generator" content="Publii Open-Source CMS for Static Site" />

        <link rel="canonical" href="https://itheo.tech/creating-a-custom-pdf-viewer-shortcode-in-wordpress.html">
        <link rel="alternate" type="application/atom+xml" href="https://itheo.tech/feed.xml" />
<link rel="alternate" type="application/json" href="https://itheo.tech/feed.json" />

        <meta property="og:title" content="Creating a Custom PDF Viewer Shortcode in WordPress" /><meta property="og:image" content="https://itheo.tech/media/posts/90/bb3ec5d27d8b8ab03fb59d278c6a8562.jpeg"/><meta property="og:image:width" content="1600" /><meta property="og:image:height" content="1068" /><meta property="og:site_name" content="iTheo.Tech" /><meta property="og:description" content="Hello there, WordPress enthusiasts! Today, we're going to walk through a handy WordPress solution that will allow you to display PDF files directly on your posts or pages using a custom shortcode. In a nutshell, we're building a custom WordPress script that will create a&hellip;" /><meta property="og:url" content="https://itheo.tech/creating-a-custom-pdf-viewer-shortcode-in-wordpress.html" /><meta property="og:type" content="article" />
        <link rel="stylesheet" href="https://itheo.tech/assets/css/style.css?v=6fbb1e8931a5afe843374fd67c192c86">
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://itheo.tech/creating-a-custom-pdf-viewer-shortcode-in-wordpress.html"},"headline":"Creating a Custom PDF Viewer Shortcode in WordPress","datePublished":"2023-07-23T08:54","dateModified":"2024-06-01T19:42","image":{"@type":"ImageObject","url":"https://itheo.tech/media/posts/90/bb3ec5d27d8b8ab03fb59d278c6a8562.jpeg","height":1068,"width":1600},"description":"Hello there, WordPress enthusiasts! Today, we're going to walk through a handy WordPress solution that will allow you to display PDF files directly on your posts or pages using a custom shortcode. In a nutshell, we're building a custom WordPress script that will create a&hellip;","author":{"@type":"Person","name":"Theo van der Sluijs","url":"https://itheo.tech/authors/theo-van-der-sluijs/"},"publisher":{"@type":"Organization","name":"Theo van der Sluijs","logo":{"@type":"ImageObject","url":"https://itheo.tech/media/website/itheo.tech-500x125-logo.png","height":125,"width":500}}}</script>
        
        <noscript>
            <style>
                img[loading] {
                    opacity: 1;
                }
            </style>
        </noscript>	
        
    </head>
    <body>
        <div class="site-container">
   <header class="top" id="js-header">
      <a class="logo" href="https://itheo.tech/">
            <img src="https://itheo.tech/media/website/itheo.tech-500x125-logo.png" alt="iTheo.Tech" width="500" height="125">
      </a>
         <div class="search">
            <div class="search__overlay js-search-overlay">
               <div class="search__overlay-inner">
                   
                  <button class="search__close js-search-close" aria-label="Close">
                     Close
                  </button>
               </div>
            </div>
            <button class="search__btn js-search-btn" aria-label="Search">
               <svg role="presentation" focusable="false">
                  <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#search"/>
               </svg>
            </button>
         </div>
   </header>
<main>
      <article class="post">
         <div class="hero">
             
                  <figure class="hero__image hero__image--overlay">                      
                     <img
                        src="https://itheo.tech/media/posts/90/bb3ec5d27d8b8ab03fb59d278c6a8562.jpeg"
                            srcset="https://itheo.tech/media/posts/90/responsive/bb3ec5d27d8b8ab03fb59d278c6a8562-xs.webp 300w ,https://itheo.tech/media/posts/90/responsive/bb3ec5d27d8b8ab03fb59d278c6a8562-sm.webp 480w ,https://itheo.tech/media/posts/90/responsive/bb3ec5d27d8b8ab03fb59d278c6a8562-md.webp 768w ,https://itheo.tech/media/posts/90/responsive/bb3ec5d27d8b8ab03fb59d278c6a8562-lg.webp 1024w ,https://itheo.tech/media/posts/90/responsive/bb3ec5d27d8b8ab03fb59d278c6a8562-xl.webp 1360w ,https://itheo.tech/media/posts/90/responsive/bb3ec5d27d8b8ab03fb59d278c6a8562-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px"
                         loading="eager"
                        height="1068"
                        width="1600"
                        alt="">
                      
                  </figure>
             
            <header class="hero__content">
               <div class="wrapper">
                     <div class="post__meta">
                        <time datetime="2023-07-23T08:54">
                              July 23, 2023
                        </time>
                     </div>
                  <h1>
                     Creating a Custom PDF Viewer Shortcode in WordPress
                  </h1>
                     <div class="post__meta post__meta--author">
                              <img 
                                 src="https://itheo.tech/media/website/64.png" 
                                  loading="eager"
                                 height="512"
                                 width="512"
                                 class="post__author-thumb" 
                                 alt="Theo van der Sluijs">
                           <a href="https://itheo.tech/authors/theo-van-der-sluijs/" class="feed__author">Theo van der Sluijs</a>
                     </div>
               </div>
            </header>
         </div>

         <div class="wrapper post__entry">           
            <p>Hello there, WordPress enthusiasts! Today, we're going to walk through a handy WordPress solution that will allow you to display PDF files directly on your posts or pages using a custom shortcode.</p>
<p>In a nutshell, we're building a custom WordPress script that will create a shortcode accepting a PDF file (from your WordPress Media Library) as an argument, along with optional width and height parameters. And if the content of the PDF exceeds its container size, a scrollbar will be added for easy navigation.</p>
<pre><code class="lang-php"><span class="hljs-meta"><?php</span><restore-line-break><span class="hljs-comment">/*<restore-line-break>Plugin Name: My PDF Shortcode<restore-line-break>Description: A plugin that adds a PDF viewer shortcode.<restore-line-break>Version: 1.2<restore-line-break>Author: Theo van der Sluijs<restore-line-break>*/</span><restore-line-break><restore-line-break><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">my_pdf_shortcode</span>(<span class="hljs-params">$atts</span>) </span>{<restore-line-break>    $a = shortcode_atts( <span class="hljs-keyword">array</span>(<restore-line-break>        <span class="hljs-string">'id'</span> => <span class="hljs-string">''</span>,<restore-line-break>        <span class="hljs-string">'width'</span> => <span class="hljs-string">'100%'</span>,  <span class="hljs-comment">// default width</span><restore-line-break>        <span class="hljs-string">'height'</span> => <span class="hljs-string">'141.4%'</span> <span class="hljs-comment">// default height (A4 ratio)</span><restore-line-break>    ), $atts );<restore-line-break><restore-line-break>    $pdf_url = wp_get_attachment_url($a[<span class="hljs-string">'id'</span>]);<restore-line-break><restore-line-break>    <span class="hljs-keyword">if</span>($pdf_url) {<restore-line-break>        $output = <span class="hljs-string">'
<div style="width: '</span>.$a[<span class="hljs-string">'width'</span>].<span class="hljs-string">'; overflow: auto; position: relative; padding-top: '</span>.$a[<span class="hljs-string">'height'</span>].<span class="hljs-string">'"><restore-line-break>                    <object data="'</span> . $pdf_url . <span class="hljs-string">'" type="application/pdf" style="position: absolute; top: 0; left: 0; height: 100%; width: 100%;">                        
<p>It appears you don't have a PDF plugin for this browser. No biggie... you can <a href="'</span>.$pdf_url.<span class="hljs-string">'">click here to download the PDF file.</a></p>
<p>                    </object><restore-line-break>                   </div>
<p>'</span>;<restore-line-break>    } <span class="hljs-keyword">else</span> {<restore-line-break>        $output = <span class="hljs-string">'
<p>No PDF found!</p>
<p>'</span>;<restore-line-break>    }<restore-line-break><restore-line-break>    <span class="hljs-keyword">return</span> $output;<restore-line-break>}<restore-line-break>add_shortcode(<span class="hljs-string">'my_pdf'</span>, <span class="hljs-string">'my_pdf_shortcode'</span>);<restore-line-break></code></pre>
<p>Let's delve into the code.</p>
<pre><code class="lang-php"><span class="hljs-meta"><?php</span><restore-line-break><span class="hljs-comment">/*<restore-line-break>Plugin Name: My PDF Shortcode<restore-line-break>Description: A plugin that adds a PDF viewer shortcode.<restore-line-break>Version: 1.2<restore-line-break>Author: Your Name<restore-line-break>*/</span><restore-line-break><restore-line-break><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">my_pdf_shortcode</span>(<span class="hljs-params">$atts</span>) </span>{<restore-line-break>    <span class="hljs-comment">//...</span><restore-line-break>}<restore-line-break>add_shortcode(<span class="hljs-string">'my_pdf'</span>, <span class="hljs-string">'my_pdf_shortcode'</span>);<restore-line-break></code></pre>
<p>The code above introduces our plugin and declares a function called <code>my_pdf_shortcode()</code>. This function is registered as a shortcode via the <code>add_shortcode()</code> function.</p>
<p>Let's inspect the inside of the <code>my_pdf_shortcode()</code> function.</p>
<pre><code class="lang-php">$a = shortcode_atts( <span class="hljs-keyword">array</span>(<restore-line-break>    <span class="hljs-string">'id'</span> => <span class="hljs-string">''</span>,<restore-line-break>    <span class="hljs-string">'width'</span> => <span class="hljs-string">'100%'</span>,  <span class="hljs-comment">// default width</span><restore-line-break>    <span class="hljs-string">'height'</span> => <span class="hljs-string">'141.4%'</span> <span class="hljs-comment">// default height (A4 ratio)</span><restore-line-break>), $atts );<restore-line-break></code></pre>
<p>This code block defines the attributes our shortcode will accept: 'id', 'width', and 'height'. The 'id' is a required attribute for the PDF from your Media Library, whereas 'width' and 'height' are optional.</p>
<pre><code class="lang-php">$pdf_url = wp_get_attachment_url($a[<span class="hljs-string">'id'</span>]);<restore-line-break></code></pre>
<p>Here we fetch the URL of the PDF using WordPress's <code>wp_get_attachment_url()</code> function and the id provided.</p>
<pre><code class="lang-php"><span class="hljs-keyword">if</span>($pdf_url) {<restore-line-break>    <span class="hljs-comment">//...</span><restore-line-break>} <span class="hljs-keyword">else</span> {<restore-line-break>    $output = <span class="hljs-string">'
<p>No PDF found!</p>
<p>'</span>;<restore-line-break>}<restore-line-break></code></pre>
<p>In the 'if' block, we check if the PDF URL is successfully retrieved. If it fails (maybe the 'id' is wrong or the PDF doesn't exist), we display a message saying "No PDF found!"</p>
<p>Now, let's look inside the 'if' block.</p>
<pre><code class="lang-php">$output = <span class="hljs-string">'
<div style="width: '</span>.$a[<span class="hljs-string">'width'</span>].<span class="hljs-string">'; overflow: auto; position: relative; padding-top: '</span>.$a[<span class="hljs-string">'height'</span>].<span class="hljs-string">'"><restore-line-break>                <object data="'</span> . $pdf_url . <span class="hljs-string">'" type="application/pdf" style="position: absolute; top: 0; left: 0; height: 100%; width: 100%;">                    
<p>It appears you don't have a PDF plugin for this browser. No biggie... you can <a href="'</span>.$pdf_url.<span class="hljs-string">'">click here to download the PDF file.</a></p>
<p>                </object><restore-line-break>            </div>
<p>'</span>;<restore-line-break></code></pre>
<p>This is where the magic happens. We create an HTML 'div' that houses an 'object' element (for the PDF). The 'div' has a CSS style applied to it that manages the width, height, position, and overflow behavior. 'Overflow: auto;' ensures that scrollbars appear when the PDF content exceeds its container size.</p>
<p>Inside the 'object' tag, we set the 'data' attribute to the URL of our PDF file. In case the browser doesn't support PDF viewing, we include a link to download the PDF.</p>
<p>In the end, our function returns the output string, which will be displayed wherever we use our shortcode.</p>
<p>With this custom plugin, you can easily insert any PDF from your Media Library to your WordPress posts or pages with a simple shortcode like this: <code>[my_pdf id="123" width="50%" height="70.7%"]</code>.</p>
<p>That's it! You've now got a custom WordPress plugin that creates a PDF viewer shortcode. This simple, yet powerful solution can be a real game-changer for anyone who frequently shares PDF content on their WordPress site. Enjoy!</p>


            
         </div>

            <footer class="wrapper post__footer">

                     <p class="post__last-updated">
                        This article was updated on
                           June 1, 2024
                     </p>


                     <div class="post__share">
                        
                        
                        
                        
                        
                        
                     </div>

                  <div class="post__bio bio">
                           <img 
                              src="https://itheo.tech/media/website/64.png" 
                               loading="lazy"
                              height="512"
                              width="512" 
                              class="bio__avatar" 
                              alt="Theo van der Sluijs">                          
                        <div>
                           <h3 class="bio__name">
                              <a href="https://itheo.tech/authors/theo-van-der-sluijs/" rel="author">Theo van der Sluijs</a>
                           </h3>
                        </div>
                  </div>
            </footer>
      </article>

            <nav class="post__nav">
               <div class="post__nav-inner">
                     <div class="post__nav-prev">
                        <svg width="1.041em" height="0.416em" aria-hidden="true">
                           <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-prev"/>
                        </svg>

                        <a href="https://itheo.tech/small-first-test.html" class="post__nav-link" rel="prev">
                           <span>Previous</span>
                           Small first Test
                        </a>
                     </div>
                     <div class="post__nav-next">
                        <a href="https://itheo.tech/solving-default-featured-image-issue-in-wordpress-posts-and-articles.html" class="post__nav-link" rel="next">
                           <span>Next</span>
                           Solving Default Featured Image Issue in WordPress posts and articles
                        </a>
                        <svg width="1.041em" height="0.416em" aria-hidden="true">
                           <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-next"/>
                        </svg>
                     </div>
               </div>
            </nav>

            <div class="post__related related">
               <div class="wrapper">
                  <h2 class="h5 related__title">
                     You should also read:
                  </h2>
                     <article class="related__item">
                        <div class="feed__meta">
                           <time datetime="2023-10-31T06:21" class="feed__date">
                                 October 31, 2023
                           </time>
                        </div>
                        <h3 class="h1">
                           <a href="https://itheo.tech/unlocking-pages-with-custom-user-roles-in-wordpress.html">
                              Unlocking Pages with Custom User Roles in WordPress
                           </a>
                        </h3>
                     </article>
                     <article class="related__item">
                        <div class="feed__meta">
                           <time datetime="2023-04-30T07:03" class="feed__date">
                                 April 30, 2023
                           </time>
                        </div>
                        <h3 class="h1">
                           <a href="https://itheo.tech/delete-unused-tables-in-wordpress-with-a-plugin.html">
                              Delete unused tables in Wordpress with a plugin
                           </a>
                        </h3>
                     </article>
                     <article class="related__item">
                        <div class="feed__meta">
                           <time datetime="2023-07-24T05:00" class="feed__date">
                                 July 24, 2023
                           </time>
                        </div>
                        <h3 class="h1">
                           <a href="https://itheo.tech/solving-default-featured-image-issue-in-wordpress-posts-and-articles.html">
                              Solving Default Featured Image Issue in WordPress posts and articles
                           </a>
                        </h3>
                     </article>
               </div>
            </div>



</main>
<footer class="footer">
        <div class="footer__copyright">
            <p>iTheo.Tech</p>
        </div>
        <button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top">
            <svg>
                <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#toparrow"/>
            </svg>
        </button>

</footer>
</div>

<script defer src="https://itheo.tech/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script>

<script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script>

    <script>        
        var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }
    </script>



</body>
</html>
