<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>Masking a creditcardnummer with Python - iTheo.Tech </title>
        <meta name="description" content="I was building a script to find credit card numbers in files. For PCI compliance reasons. I wanted to see and or save the credit card numbers in a file but only parts of them, so I still would be compliant. So I created this&hellip;" />
         
        <meta name="generator" content="Publii Open-Source CMS for Static Site" />

        <link rel="canonical" href="https://itheo.tech/masking-a-creditcardnummer-with-python.html">
        <link rel="alternate" type="application/atom+xml" href="https://itheo.tech/feed.xml" />
<link rel="alternate" type="application/json" href="https://itheo.tech/feed.json" />

        <meta property="og:title" content="Masking a creditcardnummer with Python" /><meta property="og:image" content="https://itheo.tech/media/posts/67/7e809d451621327a090dee1c31ebc0e3.jpeg"/><meta property="og:image:width" content="1600" /><meta property="og:image:height" content="1069" /><meta property="og:site_name" content="iTheo.Tech" /><meta property="og:description" content="I was building a script to find credit card numbers in files. For PCI compliance reasons. I wanted to see and or save the credit card numbers in a file but only parts of them, so I still would be compliant. So I created this&hellip;" /><meta property="og:url" content="https://itheo.tech/masking-a-creditcardnummer-with-python.html" /><meta property="og:type" content="article" />
        <link rel="stylesheet" href="https://itheo.tech/assets/css/style.css?v=6fbb1e8931a5afe843374fd67c192c86">
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://itheo.tech/masking-a-creditcardnummer-with-python.html"},"headline":"Masking a creditcardnummer with Python","datePublished":"2023-04-07T05:13","dateModified":"2024-06-01T19:42","image":{"@type":"ImageObject","url":"https://itheo.tech/media/posts/67/7e809d451621327a090dee1c31ebc0e3.jpeg","height":1069,"width":1600},"description":"I was building a script to find credit card numbers in files. For PCI compliance reasons. I wanted to see and or save the credit card numbers in a file but only parts of them, so I still would be compliant. So I created this&hellip;","author":{"@type":"Person","name":"Theo van der Sluijs","url":"https://itheo.tech/authors/theo-van-der-sluijs/"},"publisher":{"@type":"Organization","name":"Theo van der Sluijs","logo":{"@type":"ImageObject","url":"https://itheo.tech/media/website/itheo.tech-500x125-logo.png","height":125,"width":500}}}</script>
        
        <noscript>
            <style>
                img[loading] {
                    opacity: 1;
                }
            </style>
        </noscript>	
        
    </head>
    <body>
        <div class="site-container">
   <header class="top" id="js-header">
      <a class="logo" href="https://itheo.tech/">
            <img src="https://itheo.tech/media/website/itheo.tech-500x125-logo.png" alt="iTheo.Tech" width="500" height="125">
      </a>
         <div class="search">
            <div class="search__overlay js-search-overlay">
               <div class="search__overlay-inner">
                   
                  <button class="search__close js-search-close" aria-label="Close">
                     Close
                  </button>
               </div>
            </div>
            <button class="search__btn js-search-btn" aria-label="Search">
               <svg role="presentation" focusable="false">
                  <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#search"/>
               </svg>
            </button>
         </div>
   </header>
<main>
      <article class="post">
         <div class="hero">
             
                  <figure class="hero__image hero__image--overlay">                      
                     <img
                        src="https://itheo.tech/media/posts/67/7e809d451621327a090dee1c31ebc0e3.jpeg"
                            srcset="https://itheo.tech/media/posts/67/responsive/7e809d451621327a090dee1c31ebc0e3-xs.webp 300w ,https://itheo.tech/media/posts/67/responsive/7e809d451621327a090dee1c31ebc0e3-sm.webp 480w ,https://itheo.tech/media/posts/67/responsive/7e809d451621327a090dee1c31ebc0e3-md.webp 768w ,https://itheo.tech/media/posts/67/responsive/7e809d451621327a090dee1c31ebc0e3-lg.webp 1024w ,https://itheo.tech/media/posts/67/responsive/7e809d451621327a090dee1c31ebc0e3-xl.webp 1360w ,https://itheo.tech/media/posts/67/responsive/7e809d451621327a090dee1c31ebc0e3-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px"
                         loading="eager"
                        height="1069"
                        width="1600"
                        alt="">
                      
                  </figure>
             
            <header class="hero__content">
               <div class="wrapper">
                     <div class="post__meta">
                        <time datetime="2023-04-07T05:13">
                              April 7, 2023
                        </time>
                     </div>
                  <h1>
                     Masking a creditcardnummer with Python
                  </h1>
                     <div class="post__meta post__meta--author">
                              <img 
                                 src="https://itheo.tech/media/website/64.png" 
                                  loading="eager"
                                 height="512"
                                 width="512"
                                 class="post__author-thumb" 
                                 alt="Theo van der Sluijs">
                           <a href="https://itheo.tech/authors/theo-van-der-sluijs/" class="feed__author">Theo van der Sluijs</a>
                     </div>
               </div>
            </header>
         </div>

         <div class="wrapper post__entry">           
            <p>I was building a script to find credit card numbers in files. For PCI compliance reasons.</p>
<p>I wanted to see and or save the credit card numbers in a file but only parts of them, so I still would be compliant.</p>
<p>So I created this small mask_number function to, well... mask found credit card numbers.</p>
<p>To mask a number with <code>*</code> without masking the first 4 and the last 4 numbers in Python using <code>re.sub()</code>, you can use the following regular expression:</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> re<restore-line-break><restore-line-break><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mask_number</span>(<span class="hljs-params">number</span>):</span><restore-line-break>    <span class="hljs-keyword">return</span> re.sub(<span class="hljs-string">r'(?<=d{4})d(?=d{4})'</span>, <span class="hljs-string">'*'</span>, number)<restore-line-break></code></pre>
<p>The regular expression works as follows:</p>
<ul>
<li>
<p><code>(?<=d{4})</code>: Positive look behind to match any digit that has 4 digits behind it</p>
</li>
<li>
<p><code>d</code>: Match any single digit</p>
</li>
<li>
<p><code>(?=d{4})</code>: Positive lookahead to match any digit that has 4 digits ahead of it</p>
</li>
</ul>
<p>The <code>re.sub()</code> function will replace all the single digits that match the regular expression with the <code>*</code> character.</p>
<p>Example usage:</p>
<pre><code class="lang-python"><span class="hljs-meta">>>> </span>mask_number(<span class="hljs-string">'1234567890123456'</span>)<restore-line-break><span class="hljs-string">'1234********3456'</span><restore-line-break><restore-line-break><span class="hljs-meta">>>> </span>mask_number(<span class="hljs-string">'1234-5678-9012-3456'</span>)<restore-line-break><span class="hljs-string">'1234-****-****-3456'</span><restore-line-break></code></pre>
<p>In the above example, the function <code>mask_number()</code> takes in a number as a string, and returns a masked string with the first 4 and last 4 digits unmasked and the rest of the digits masked with <code>*</code>.</p>


            
         </div>

            <footer class="wrapper post__footer">

                     <p class="post__last-updated">
                        This article was updated on
                           June 1, 2024
                     </p>


                     <div class="post__share">
                        
                        
                        
                        
                        
                        
                     </div>

                  <div class="post__bio bio">
                           <img 
                              src="https://itheo.tech/media/website/64.png" 
                               loading="lazy"
                              height="512"
                              width="512" 
                              class="bio__avatar" 
                              alt="Theo van der Sluijs">                          
                        <div>
                           <h3 class="bio__name">
                              <a href="https://itheo.tech/authors/theo-van-der-sluijs/" rel="author">Theo van der Sluijs</a>
                           </h3>
                        </div>
                  </div>
            </footer>
      </article>

            <nav class="post__nav">
               <div class="post__nav-inner">
                     <div class="post__nav-prev">
                        <svg width="1.041em" height="0.416em" aria-hidden="true">
                           <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-prev"/>
                        </svg>

                        <a href="https://itheo.tech/get-screamingfrog-data-with-a-python-script.html" class="post__nav-link" rel="prev">
                           <span>Previous</span>
                           Get ScreamingFrog Data with a Python script
                        </a>
                     </div>
                     <div class="post__nav-next">
                        <a href="https://itheo.tech/download-space-wide-screen-images-with-python.html" class="post__nav-link" rel="next">
                           <span>Next</span>
                           Download space wide screen images with Python
                        </a>
                        <svg width="1.041em" height="0.416em" aria-hidden="true">
                           <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-next"/>
                        </svg>
                     </div>
               </div>
            </nav>

            <div class="post__related related">
               <div class="wrapper">
                  <h2 class="h5 related__title">
                     You should also read:
                  </h2>
                     <article class="related__item">
                        <div class="feed__meta">
                           <time datetime="2018-10-03T22:00" class="feed__date">
                                 October 3, 2018
                           </time>
                        </div>
                        <h3 class="h1">
                           <a href="https://itheo.tech/scraping-contact-data-with-python-export-to-csv.html">
                              Scraping contact data with Python export to csv
                           </a>
                        </h3>
                     </article>
                     <article class="related__item">
                        <div class="feed__meta">
                           <time datetime="2018-11-30T23:00" class="feed__date">
                                 November 30, 2018
                           </time>
                        </div>
                        <h3 class="h1">
                           <a href="https://itheo.tech/image-resize-python-automation-script.html">
                              Image resize python automation script
                           </a>
                        </h3>
                     </article>
                     <article class="related__item">
                        <div class="feed__meta">
                           <time datetime="2018-12-19T23:00" class="feed__date">
                                 December 19, 2018
                           </time>
                        </div>
                        <h3 class="h1">
                           <a href="https://itheo.tech/get-colors-from-images-python-script.html">
                              Get colors from images python script
                           </a>
                        </h3>
                     </article>
               </div>
            </div>



</main>
<footer class="footer">
        <div class="footer__copyright">
            <p>iTheo.Tech</p>
        </div>
        <button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top">
            <svg>
                <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#toparrow"/>
            </svg>
        </button>

</footer>
</div>

<script defer src="https://itheo.tech/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script>

<script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script>

    <script>        
        var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }
    </script>



</body>
</html>
