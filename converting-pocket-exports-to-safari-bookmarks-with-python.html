<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>Converting Pocket Exports to Safari Bookmarks with Python - iTheo.Tech </title>
        <meta name="description" content="Have you ever wondered how to convert your Pocket export files to a format that can be easily imported as bookmarks into Safari? Well, I've got just the solution for you, and it involves a pinch of Python and some HTML parsing magic. In this&hellip;" />
         
        <meta name="generator" content="Publii Open-Source CMS for Static Site" />

        <link rel="canonical" href="https://itheo.tech/converting-pocket-exports-to-safari-bookmarks-with-python.html">
        <link rel="alternate" type="application/atom+xml" href="https://itheo.tech/feed.xml" />
<link rel="alternate" type="application/json" href="https://itheo.tech/feed.json" />

        <meta property="og:title" content="Converting Pocket Exports to Safari Bookmarks with Python" /><meta property="og:image" content="https://itheo.tech/media/posts/86/53d61ed936a04419abb5f3f83d0bf8f4.jpeg"/><meta property="og:image:width" content="1600" /><meta property="og:image:height" content="1068" /><meta property="og:site_name" content="iTheo.Tech" /><meta property="og:description" content="Have you ever wondered how to convert your Pocket export files to a format that can be easily imported as bookmarks into Safari? Well, I've got just the solution for you, and it involves a pinch of Python and some HTML parsing magic. In this&hellip;" /><meta property="og:url" content="https://itheo.tech/converting-pocket-exports-to-safari-bookmarks-with-python.html" /><meta property="og:type" content="article" />
        <link rel="stylesheet" href="https://itheo.tech/assets/css/style.css?v=6fbb1e8931a5afe843374fd67c192c86">
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://itheo.tech/converting-pocket-exports-to-safari-bookmarks-with-python.html"},"headline":"Converting Pocket Exports to Safari Bookmarks with Python","datePublished":"2023-08-02T15:06","dateModified":"2024-06-01T19:42","image":{"@type":"ImageObject","url":"https://itheo.tech/media/posts/86/53d61ed936a04419abb5f3f83d0bf8f4.jpeg","height":1068,"width":1600},"description":"Have you ever wondered how to convert your Pocket export files to a format that can be easily imported as bookmarks into Safari? Well, I've got just the solution for you, and it involves a pinch of Python and some HTML parsing magic. In this&hellip;","author":{"@type":"Person","name":"Theo van der Sluijs","url":"https://itheo.tech/authors/theo-van-der-sluijs/"},"publisher":{"@type":"Organization","name":"Theo van der Sluijs","logo":{"@type":"ImageObject","url":"https://itheo.tech/media/website/itheo.tech-500x125-logo.png","height":125,"width":500}}}</script>
        
        <noscript>
            <style>
                img[loading] {
                    opacity: 1;
                }
            </style>
        </noscript>	
        
    </head>
    <body>
        <div class="site-container">
   <header class="top" id="js-header">
      <a class="logo" href="https://itheo.tech/">
            <img src="https://itheo.tech/media/website/itheo.tech-500x125-logo.png" alt="iTheo.Tech" width="500" height="125">
      </a>
         <div class="search">
            <div class="search__overlay js-search-overlay">
               <div class="search__overlay-inner">
                   
                  <button class="search__close js-search-close" aria-label="Close">
                     Close
                  </button>
               </div>
            </div>
            <button class="search__btn js-search-btn" aria-label="Search">
               <svg role="presentation" focusable="false">
                  <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#search"/>
               </svg>
            </button>
         </div>
   </header>
<main>
      <article class="post">
         <div class="hero">
             
                  <figure class="hero__image hero__image--overlay">                      
                     <img
                        src="https://itheo.tech/media/posts/86/53d61ed936a04419abb5f3f83d0bf8f4.jpeg"
                            srcset="https://itheo.tech/media/posts/86/responsive/53d61ed936a04419abb5f3f83d0bf8f4-xs.webp 300w ,https://itheo.tech/media/posts/86/responsive/53d61ed936a04419abb5f3f83d0bf8f4-sm.webp 480w ,https://itheo.tech/media/posts/86/responsive/53d61ed936a04419abb5f3f83d0bf8f4-md.webp 768w ,https://itheo.tech/media/posts/86/responsive/53d61ed936a04419abb5f3f83d0bf8f4-lg.webp 1024w ,https://itheo.tech/media/posts/86/responsive/53d61ed936a04419abb5f3f83d0bf8f4-xl.webp 1360w ,https://itheo.tech/media/posts/86/responsive/53d61ed936a04419abb5f3f83d0bf8f4-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px"
                         loading="eager"
                        height="1068"
                        width="1600"
                        alt="">
                      
                  </figure>
             
            <header class="hero__content">
               <div class="wrapper">
                     <div class="post__meta">
                        <time datetime="2023-08-02T15:06">
                              August 2, 2023
                        </time>
                     </div>
                  <h1>
                     Converting Pocket Exports to Safari Bookmarks with Python
                  </h1>
                     <div class="post__meta post__meta--author">
                              <img 
                                 src="https://itheo.tech/media/website/64.png" 
                                  loading="eager"
                                 height="512"
                                 width="512"
                                 class="post__author-thumb" 
                                 alt="Theo van der Sluijs">
                           <a href="https://itheo.tech/authors/theo-van-der-sluijs/" class="feed__author">Theo van der Sluijs</a>
                     </div>
               </div>
            </header>
         </div>

         <div class="wrapper post__entry">           
            <p>Have you ever wondered how to convert your Pocket export files to a format that can be easily imported as bookmarks into Safari? Well, I've got just the solution for you, and it involves a pinch of Python and some HTML parsing magic. In this blog post, I will walk you through a Python script that accomplishes this task, step by step.</p>
<p>The Python script relies heavily on BeautifulSoup, a library that is fantastic for web scraping and parsing HTML files. The first part of the script contains a function named <code>parse_pocket_export</code>. This function reads the Pocket export HTML file, parses the HTML content to extract all the link elements, and stores the title and URL of each link in a dictionary. The result is a list of dictionaries, where each dictionary represents a bookmark.</p>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<restore-line-break><restore-line-break><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_pocket_export</span>(<span class="hljs-params">file_path</span>):</span><restore-line-break>    <span class="hljs-keyword">with</span> open(file_path, <span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> file:<restore-line-break>        data = file.read()<restore-line-break>    soup = BeautifulSoup(data, <span class="hljs-string">'html.parser'</span>)<restore-line-break>    links = soup.find_all(<span class="hljs-string">'a'</span>)<restore-line-break>    pocket_links = [{<span class="hljs-string">"title"</span>: link.text, <span class="hljs-string">"url"</span>: link[<span class="hljs-string">'href'</span>]} <span class="hljs-keyword">for</span> link <span class="hljs-keyword">in</span> links]<restore-line-break>    <span class="hljs-keyword">return</span> pocket_links<restore-line-break></code></pre>
<p>The second part of the script is the <code>write_to_bookmark_file</code> function. This function takes as input the list of dictionaries generated by <code>parse_pocket_export</code>, and writes them to a new HTML file in a format that can be imported as bookmarks into Safari.</p>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">write_to_bookmark_file</span>(<span class="hljs-params">pocket_links, output_file_path</span>):</span><restore-line-break>    <span class="hljs-keyword">with</span> open(output_file_path, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> file:<restore-line-break>        file.write(<span class="hljs-string">'<!DOCTYPE NETSCAPE-Bookmark-file-1>n'</span>)<restore-line-break>        <span class="hljs-comment"># ... (omitted for brevity)</span><restore-line-break>        <span class="hljs-keyword">for</span> link <span class="hljs-keyword">in</span> pocket_links:<restore-line-break>            file.write(<span class="hljs-string">f'
<DT><A HREF="<span class="hljs-subst">{link[<span class="hljs-string">"url"</span>]}</span>" ADD_DATE="" LAST_VISIT="" LAST_MODIFIED=""><span class="hljs-subst">{link[<span class="hljs-string">"title"</span>]}</span></A>n'</span>)<restore-line-break>        file.write(<span class="hljs-string">'</DL>
<p>n'</span>)<restore-line-break></code></pre>
<p>To use this script, we need to manage its dependencies. For this, we will use Poetry, a dependency management and packaging tool. Poetry allows us to specify the exact versions of the packages we depend on, and it ensures that these packages are installed in a virtual environment. To use Poetry, first install it using the command <code>curl -sSL</code> <a target="_blank" href="https://install.python-poetry.org" rel="noopener"><code>https://install.python-poetry.org</code></a> <code>| python3 -</code>.</p>
<p>Next, to specify that our script depends on BeautifulSoup, create a new file called <code>pyproject.toml</code> in the same directory as our script, and add the following content:</p>
<pre><code class="lang-python">[tool.poetry]<restore-line-break>name = <span class="hljs-string">"pocket-to-safari"</span><restore-line-break>version = <span class="hljs-string">"0.1.0"</span><restore-line-break>description = <span class="hljs-string">"Converts Pocket exports to Safari bookmarks."</span><restore-line-break><restore-line-break>[tool.poetry.dependencies]<restore-line-break>python = <span class="hljs-string">"^3.7"</span><restore-line-break>beautifulsoup4 = <span class="hljs-string">"^4.9.3"</span><restore-line-break><restore-line-break>[build-system]<restore-line-break>requires = [<span class="hljs-string">"poetry-core>=1.0.0"</span>]<restore-line-break>build-backend = <span class="hljs-string">"poetry.core.masonry.api"</span><restore-line-break></code></pre>
<p>We also want to ensure that our code is working as expected. For this, we can write tests using Python's built-in <code>unittest</code> library. Here's a simple test case for our <code>parse_pocket_export</code> function:</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> unittest<restore-line-break><span class="hljs-keyword">from</span> pocket_to_safari <span class="hljs-keyword">import</span> parse_pocket_export<restore-line-break><restore-line-break><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestPocketToSafari</span>(<span class="hljs-params">unittest.TestCase</span>):</span><restore-line-break>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_parse_pocket_export</span>(<span class="hljs-params">self</span>):</span><restore-line-break>        pocket_links = parse_pocket_export(<span class="hljs-string">'pocket_export.html'</span>)<restore-line-break>        self.assertIsInstance(pocket_links, list)<restore-line-break>        self.assertGreater(len(pocket_links), <span class="hljs-number">0</span>)<restore-line-break>        self.assertIsInstance(pocket_links[<span class="hljs-number">0</span>], dict)<restore-line-break>        self.assertIn(<span class="hljs-string">'title'</span>, pocket_links[<span class="hljs-number">0</span>])<restore-line-break>        self.assertIn(<span class="hljs-string">'url'</span>, pocket_links[<span class="hljs-number">0</span>])<restore-line-break><restore-line-break><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:<restore-line-break>    unittest.main()<restore-line-break></code></pre>
<p>This test checks that <code>parse_pocket_export</code> returns a list of dictionaries and that each dictionary has a 'title' and 'url' key.</p>
<p>Finally, to import your new bookmarks file into Safari, follow these simple steps:</p>
<ol>
<li>
<p>Open Safari.</p>
</li>
<li>
<p>Click on File in the menu.</p>
</li>
<li>
<p>Select Import From -> Bookmarks HTML File.</p>
</li>
<li>
<p>Navigate to your created HTML file and select it.</p>
</li>
</ol>
<p>That's it! I hope this guide has been helpful in teaching you how to convert Pocket exports to Safari bookmarks using Python, BeautifulSoup, and Poetry. Happy coding!</p>


            
         </div>

            <footer class="wrapper post__footer">

                     <p class="post__last-updated">
                        This article was updated on
                           June 1, 2024
                     </p>


                     <div class="post__share">
                        
                        
                        
                        
                        
                        
                     </div>

                  <div class="post__bio bio">
                           <img 
                              src="https://itheo.tech/media/website/64.png" 
                               loading="lazy"
                              height="512"
                              width="512" 
                              class="bio__avatar" 
                              alt="Theo van der Sluijs">                          
                        <div>
                           <h3 class="bio__name">
                              <a href="https://itheo.tech/authors/theo-van-der-sluijs/" rel="author">Theo van der Sluijs</a>
                           </h3>
                        </div>
                  </div>
            </footer>
      </article>

            <nav class="post__nav">
               <div class="post__nav-inner">
                     <div class="post__nav-prev">
                        <svg width="1.041em" height="0.416em" aria-hidden="true">
                           <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-prev"/>
                        </svg>

                        <a href="https://itheo.tech/van-snake-naar-pong-creeer-je-eigen-pong-game-in-python-met-turtle.html" class="post__nav-link" rel="prev">
                           <span>Previous</span>
                           Van Snake naar Pong: Creëer je Eigen Pong Game in Python met Turtle!
                        </a>
                     </div>
                     <div class="post__nav-next">
                        <a href="https://itheo.tech/supercharge-your-postman-experience-with-custom-json-visualization.html" class="post__nav-link" rel="next">
                           <span>Next</span>
                           Supercharge Your Postman Experience with Custom JSON Visualization
                        </a>
                        <svg width="1.041em" height="0.416em" aria-hidden="true">
                           <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#arrow-next"/>
                        </svg>
                     </div>
               </div>
            </nav>

            <div class="post__related related">
               <div class="wrapper">
                  <h2 class="h5 related__title">
                     You should also read:
                  </h2>
                     <article class="related__item">
                        <div class="feed__meta">
                           <time datetime="2018-10-03T22:00" class="feed__date">
                                 October 3, 2018
                           </time>
                        </div>
                        <h3 class="h1">
                           <a href="https://itheo.tech/scraping-contact-data-with-python-export-to-csv.html">
                              Scraping contact data with Python export to csv
                           </a>
                        </h3>
                     </article>
                     <article class="related__item">
                        <div class="feed__meta">
                           <time datetime="2018-11-30T23:00" class="feed__date">
                                 November 30, 2018
                           </time>
                        </div>
                        <h3 class="h1">
                           <a href="https://itheo.tech/image-resize-python-automation-script.html">
                              Image resize python automation script
                           </a>
                        </h3>
                     </article>
                     <article class="related__item">
                        <div class="feed__meta">
                           <time datetime="2018-12-19T23:00" class="feed__date">
                                 December 19, 2018
                           </time>
                        </div>
                        <h3 class="h1">
                           <a href="https://itheo.tech/get-colors-from-images-python-script.html">
                              Get colors from images python script
                           </a>
                        </h3>
                     </article>
               </div>
            </div>



</main>
<footer class="footer">
        <div class="footer__copyright">
            <p>iTheo.Tech</p>
        </div>
        <button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top">
            <svg>
                <use xlink:href="https://itheo.tech/assets/svg/svg-map.svg#toparrow"/>
            </svg>
        </button>

</footer>
</div>

<script defer src="https://itheo.tech/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script>

<script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script>

    <script>        
        var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }
    </script>



</body>
</html>
